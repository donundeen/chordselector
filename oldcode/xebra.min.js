/*!
 * xebra.js - v1.2.5
 * Compiled on Wed, 12 Dec 2018 23:18:21 GMT
 * 
 * xebra.js is licensed under the MIT license
 * 
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Xebra=e()}}(function(){var e;return function(){function e(t,o,r){function n(a,s){if(!o[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=o[a]={exports:{}};t[a][0].call(l.exports,function(e){return n(t[a][1][e]||e)},l,l.exports,e,t,o,r)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}return e}()({1:[function(e,t,o){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":19}],2:[function(e,t,o){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":20}],3:[function(e,t,o){t.exports={default:e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":21}],4:[function(e,t,o){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":22}],5:[function(e,t,o){t.exports={default:e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":23}],6:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":24}],7:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":25}],8:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":26}],9:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/freeze"),__esModule:!0}},{"core-js/library/fn/object/freeze":27}],10:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":28}],11:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":29}],12:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":30}],13:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":31}],14:[function(e,t,o){t.exports={default:e("core-js/library/fn/object/values"),__esModule:!0}},{"core-js/library/fn/object/values":32}],15:[function(e,t,o){t.exports={default:e("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":33}],16:[function(e,t,o){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":34}],17:[function(e,t,o){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":35}],18:[function(e,t,o){(function(e){function t(e,t){for(var o=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),o++):o&&(e.splice(r,1),o--)}if(t)for(;o--;o)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t,o=0,r=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){o=t+1;break}}else-1===r&&(n=!1,r=t+1);return-1===r?"":e.slice(o,r)}function n(e,t){if(e.filter)return e.filter(t);for(var o=[],r=0;r<e.length;r++)t(e[r],r,e)&&o.push(e[r]);return o}o.resolve=function(){for(var o="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(o=a+"/"+o,r="/"===a.charAt(0))}return o=t(n(o.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+o||"."},o.normalize=function(e){var r=o.isAbsolute(e),a="/"===i(e,-1);return e=t(n(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},o.isAbsolute=function(e){return"/"===e.charAt(0)},o.join=function(){var e=Array.prototype.slice.call(arguments,0);return o.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},o.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var o=e.length-1;o>=0&&""===e[o];o--);return t>o?[]:e.slice(t,o-t+1)}e=o.resolve(e).substr(1),t=o.resolve(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),a=Math.min(n.length,i.length),s=a,c=0;c<a;c++)if(n[c]!==i[c]){s=c;break}for(var u=[],c=s;c<n.length;c++)u.push("..");return u=u.concat(i.slice(s)),u.join("/")},o.sep="/",o.delimiter=":",o.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),o=47===t,r=-1,n=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!n){r=i;break}}else n=!1;return-1===r?o?"/":".":o&&1===r?"/":e.slice(0,r)},o.basename=function(e,t){var o=r(e);return t&&o.substr(-1*t.length)===t&&(o=o.substr(0,o.length-t.length)),o},o.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,o=0,r=-1,n=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(n=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!n){o=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===o+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,o){return e.substr(t,o)}:function(e,t,o){return t<0&&(t=e.length+t),e.substr(t,o)}}).call(this,e("_process"))},{_process:146}],19:[function(e,t,o){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":50,"../../modules/es6.array.from":117,"../../modules/es6.string.iterator":130}],20:[function(e,t,o){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":115,"../modules/es6.string.iterator":130,"../modules/web.dom.iterable":141}],21:[function(e,t,o){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":116,"../modules/es6.string.iterator":130,"../modules/web.dom.iterable":141}],22:[function(e,t,o){var r=e("../../modules/_core"),n=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(e){return n.stringify.apply(n,arguments)}},{"../../modules/_core":50}],23:[function(e,t,o){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),e("../modules/es7.map.of"),e("../modules/es7.map.from"),t.exports=e("../modules/_core").Map},{"../modules/_core":50,"../modules/es6.map":119,"../modules/es6.object.to-string":128,"../modules/es6.string.iterator":130,"../modules/es7.map.from":132,"../modules/es7.map.of":133,"../modules/es7.map.to-json":134,"../modules/web.dom.iterable":141}],24:[function(e,t,o){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":50,"../../modules/es6.object.assign":120}],25:[function(e,t,o){e("../../modules/es6.object.create");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.create(e,t)}},{"../../modules/_core":50,"../../modules/es6.object.create":121}],26:[function(e,t,o){e("../../modules/es6.object.define-property");var r=e("../../modules/_core").Object;t.exports=function(e,t,o){return r.defineProperty(e,t,o)}},{"../../modules/_core":50,"../../modules/es6.object.define-property":122}],27:[function(e,t,o){e("../../modules/es6.object.freeze"),t.exports=e("../../modules/_core").Object.freeze},{"../../modules/_core":50,"../../modules/es6.object.freeze":123}],28:[function(e,t,o){e("../../modules/es6.object.get-own-property-descriptor");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},{"../../modules/_core":50,"../../modules/es6.object.get-own-property-descriptor":124}],29:[function(e,t,o){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":50,"../../modules/es6.object.get-prototype-of":125}],30:[function(e,t,o){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":50,"../../modules/es6.object.keys":126}],31:[function(e,t,o){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":50,"../../modules/es6.object.set-prototype-of":127}],32:[function(e,t,o){e("../../modules/es7.object.values"),t.exports=e("../../modules/_core").Object.values},{"../../modules/_core":50,"../../modules/es7.object.values":135}],33:[function(e,t,o){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),e("../modules/es7.set.of"),e("../modules/es7.set.from"),t.exports=e("../modules/_core").Set},{"../modules/_core":50,"../modules/es6.object.to-string":128,"../modules/es6.set":129,"../modules/es6.string.iterator":130,"../modules/es7.set.from":136,"../modules/es7.set.of":137,"../modules/es7.set.to-json":138,"../modules/web.dom.iterable":141}],34:[function(e,t,o){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":50,"../../modules/es6.object.to-string":128,"../../modules/es6.symbol":131,"../../modules/es7.symbol.async-iterator":139,"../../modules/es7.symbol.observable":140}],35:[function(e,t,o){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":112,"../../modules/es6.string.iterator":130,"../../modules/web.dom.iterable":141}],36:[function(e,t,o){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],37:[function(e,t,o){t.exports=function(){}},{}],38:[function(e,t,o){t.exports=function(e,t,o,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(o+": incorrect invocation!");return e}},{}],39:[function(e,t,o){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":69}],40:[function(e,t,o){var r=e("./_for-of");t.exports=function(e,t){var o=[];return r(e,!1,o.push,o,t),o}},{"./_for-of":60}],41:[function(e,t,o){var r=e("./_to-iobject"),n=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,o,a){var s,c=r(t),u=n(c.length),l=i(a,u);if(e&&o!=o){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===o)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":103,"./_to-iobject":105,"./_to-length":106}],42:[function(e,t,o){var r=e("./_ctx"),n=e("./_iobject"),i=e("./_to-object"),a=e("./_to-length"),s=e("./_array-species-create");t.exports=function(e,t){var o=1==e,c=2==e,u=3==e,l=4==e,f=6==e,_=5==e||f,d=t||s;return function(t,s,p){for(var h,b,m=i(t),y=n(m),v=r(s,p,3),g=a(y.length),j=0,E=o?d(t,g):c?d(t,0):void 0;g>j;j++)if((_||j in y)&&(h=y[j],b=v(h,j,m),e))if(o)E[j]=b;else if(b)switch(e){case 3:return!0;case 5:return h;case 6:return j;case 2:E.push(h)}else if(l)return!1;return f?-1:u||l?l:E}}},{"./_array-species-create":44,"./_ctx":52,"./_iobject":66,"./_to-length":106,"./_to-object":107}],43:[function(e,t,o){var r=e("./_is-object"),n=e("./_is-array"),i=e("./_wks")("species");t.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":68,"./_is-object":69,"./_wks":113}],44:[function(e,t,o){var r=e("./_array-species-constructor");t.exports=function(e,t){return new(r(e))(t)}},{"./_array-species-constructor":43}],45:[function(e,t,o){var r=e("./_cof"),n=e("./_wks")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,o,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=a(t=Object(e),n))?o:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},{"./_cof":46,"./_wks":113}],46:[function(e,t,o){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],47:[function(e,t,o){"use strict";var r=e("./_object-dp").f,n=e("./_object-create"),i=e("./_redefine-all"),a=e("./_ctx"),s=e("./_an-instance"),c=e("./_for-of"),u=e("./_iter-define"),l=e("./_iter-step"),f=e("./_set-species"),_=e("./_descriptors"),d=e("./_meta").fastKey,p=e("./_validate-collection"),h=_?"_s":"size",b=function(e,t){var o,r=d(t);if("F"!==r)return e._i[r];for(o=e._f;o;o=o.n)if(o.k==t)return o};t.exports={getConstructor:function(e,t,o,u){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=r&&c(r,o,e[u],e)});return i(l.prototype,{clear:function(){for(var e=p(this,t),o=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete o[r.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var o=p(this,t),r=b(o,e);if(r){var n=r.n,i=r.p;delete o._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),o._f==r&&(o._f=n),o._l==r&&(o._l=i),o[h]--}return!!r},forEach:function(e){p(this,t);for(var o,r=a(e,arguments.length>1?arguments[1]:void 0,3);o=o?o.n:this._f;)for(r(o.v,o.k,this);o&&o.r;)o=o.p},has:function(e){return!!b(p(this,t),e)}}),_&&r(l.prototype,"size",{get:function(){return p(this,t)[h]}}),l},def:function(e,t,o){var r,n,i=b(e,t);return i?i.v=o:(e._l=i={i:n=d(t,!0),k:t,v:o,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[h]++,"F"!==n&&(e._i[n]=i)),e},getEntry:b,setStrong:function(e,t,o){u(e,t,function(e,o){this._t=p(e,t),this._k=o,this._l=void 0},function(){for(var e=this,t=e._k,o=e._l;o&&o.r;)o=o.p;return e._t&&(e._l=o=o?o.n:e._t._f)?"keys"==t?l(0,o.k):"values"==t?l(0,o.v):l(0,[o.k,o.v]):(e._t=void 0,l(1))},o?"entries":"values",!o,!0),f(t)}}},{"./_an-instance":38,"./_ctx":52,"./_descriptors":54,"./_for-of":60,"./_iter-define":72,"./_iter-step":74,"./_meta":77,"./_object-create":79,"./_object-dp":80,"./_redefine-all":93,"./_set-species":98,"./_validate-collection":110}],48:[function(e,t,o){var r=e("./_classof"),n=e("./_array-from-iterable");t.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return n(this)}}},{"./_array-from-iterable":40,"./_classof":45}],49:[function(e,t,o){"use strict";var r=e("./_global"),n=e("./_export"),i=e("./_meta"),a=e("./_fails"),s=e("./_hide"),c=e("./_redefine-all"),u=e("./_for-of"),l=e("./_an-instance"),f=e("./_is-object"),_=e("./_set-to-string-tag"),d=e("./_object-dp").f,p=e("./_array-methods")(0),h=e("./_descriptors");t.exports=function(e,t,o,b,m,y){var v=r[e],g=v,j=m?"set":"add",E=g&&g.prototype,S={};return h&&"function"==typeof g&&(y||E.forEach&&!a(function(){(new g).entries().next()}))?(g=t(function(t,o){l(t,g,e,"_c"),t._c=new v,void 0!=o&&u(o,m,t[j],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in E&&(!y||"clear"!=e)&&s(g.prototype,e,function(o,r){if(l(this,g,e),!t&&y&&!f(o))return"get"==e&&void 0;var n=this._c[e](0===o?0:o,r);return t?this:n})}),y||d(g.prototype,"size",{get:function(){return this._c.size}})):(g=b.getConstructor(t,e,m,j),c(g.prototype,o),i.NEED=!0),_(g,e),S[e]=g,n(n.G+n.W+n.F,S),y||b.setStrong(g,e,m),g}},{"./_an-instance":38,"./_array-methods":42,"./_descriptors":54,"./_export":58,"./_fails":59,"./_for-of":60,"./_global":61,"./_hide":63,"./_is-object":69,"./_meta":77,"./_object-dp":80,"./_redefine-all":93,"./_set-to-string-tag":99}],50:[function(e,t,o){var r=t.exports={version:"2.6.0"};"number"==typeof __e&&(__e=r)},{}],51:[function(e,t,o){"use strict";var r=e("./_object-dp"),n=e("./_property-desc");t.exports=function(e,t,o){t in e?r.f(e,t,n(0,o)):e[t]=o}},{"./_object-dp":80,"./_property-desc":92}],52:[function(e,t,o){var r=e("./_a-function");t.exports=function(e,t,o){if(r(e),void 0===t)return e;switch(o){case 1:return function(o){return e.call(t,o)};case 2:return function(o,r){return e.call(t,o,r)};case 3:return function(o,r,n){return e.call(t,o,r,n)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":36}],53:[function(e,t,o){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],54:[function(e,t,o){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":59}],55:[function(e,t,o){var r=e("./_is-object"),n=e("./_global").document,i=r(n)&&r(n.createElement);t.exports=function(e){return i?n.createElement(e):{}}},{"./_global":61,"./_is-object":69}],56:[function(e,t,o){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],57:[function(e,t,o){var r=e("./_object-keys"),n=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=r(e),o=n.f;if(o)for(var a,s=o(e),c=i.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},{"./_object-gops":85,"./_object-keys":88,"./_object-pie":89}],58:[function(e,t,o){var r=e("./_global"),n=e("./_core"),i=e("./_ctx"),a=e("./_hide"),s=e("./_has"),c=function(e,t,o){var u,l,f,_=e&c.F,d=e&c.G,p=e&c.S,h=e&c.P,b=e&c.B,m=e&c.W,y=d?n:n[t]||(n[t]={}),v=y.prototype,g=d?r:p?r[t]:(r[t]||{}).prototype;d&&(o=t);for(u in o)(l=!_&&g&&void 0!==g[u])&&s(y,u)||(f=l?g[u]:o[u],y[u]=d&&"function"!=typeof g[u]?o[u]:b&&l?i(f,r):m&&g[u]==f?function(e){var t=function(t,o,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,o)}return new e(t,o,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((y.virtual||(y.virtual={}))[u]=f,e&c.R&&v&&!v[u]&&a(v,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":50,"./_ctx":52,"./_global":61,"./_has":62,"./_hide":63}],59:[function(e,t,o){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],60:[function(e,t,o){var r=e("./_ctx"),n=e("./_iter-call"),i=e("./_is-array-iter"),a=e("./_an-object"),s=e("./_to-length"),c=e("./core.get-iterator-method"),u={},l={},o=t.exports=function(e,t,o,f,_){var d,p,h,b,m=_?function(){return e}:c(e),y=r(o,f,t?2:1),v=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(i(m)){for(d=s(e.length);d>v;v++)if((b=t?y(a(p=e[v])[0],p[1]):y(e[v]))===u||b===l)return b}else for(h=m.call(e);!(p=h.next()).done;)if((b=n(h,y,p.value,t))===u||b===l)return b};o.BREAK=u,o.RETURN=l},{"./_an-object":39,"./_ctx":52,"./_is-array-iter":67,"./_iter-call":70,"./_to-length":106,"./core.get-iterator-method":114}],61:[function(e,t,o){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],62:[function(e,t,o){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],63:[function(e,t,o){var r=e("./_object-dp"),n=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,o){return r.f(e,t,n(1,o))}:function(e,t,o){return e[t]=o,e}},{"./_descriptors":54,"./_object-dp":80,"./_property-desc":92}],64:[function(e,t,o){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":61}],65:[function(e,t,o){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":54,"./_dom-create":55,"./_fails":59}],66:[function(e,t,o){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":46}],67:[function(e,t,o){var r=e("./_iterators"),n=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||i[n]===e)}},{"./_iterators":75,"./_wks":113}],68:[function(e,t,o){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":46}],69:[function(e,t,o){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],70:[function(e,t,o){var r=e("./_an-object");t.exports=function(e,t,o,n){try{return n?t(r(o)[0],o[1]):t(o)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},{"./_an-object":39}],71:[function(e,t,o){"use strict";var r=e("./_object-create"),n=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,o){e.prototype=r(a,{next:n(1,o)}),i(e,t+" Iterator")}},{"./_hide":63,"./_object-create":79,"./_property-desc":92,"./_set-to-string-tag":99,"./_wks":113}],72:[function(e,t,o){"use strict";var r=e("./_library"),n=e("./_export"),i=e("./_redefine"),a=e("./_hide"),s=e("./_iterators"),c=e("./_iter-create"),u=e("./_set-to-string-tag"),l=e("./_object-gpo"),f=e("./_wks")("iterator"),_=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(e,t,o,p,h,b,m){c(o,t,p);var y,v,g,j=function(e){if(!_&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new o(this,e)}}return function(){return new o(this,e)}},E=t+" Iterator",S="values"==h,T=!1,O=e.prototype,w=O[f]||O["@@iterator"]||h&&O[h],A=w||j(h),N=h?S?j("entries"):A:void 0,x="Array"==t?O.entries||w:w;if(x&&(g=l(x.call(new e)))!==Object.prototype&&g.next&&(u(g,E,!0),r||"function"==typeof g[f]||a(g,f,d)),S&&w&&"values"!==w.name&&(T=!0,A=function(){return w.call(this)}),r&&!m||!_&&!T&&O[f]||a(O,f,A),s[t]=A,s[E]=d,h)if(y={values:S?A:j("values"),keys:b?A:j("keys"),entries:N},m)for(v in y)v in O||i(O,v,y[v]);else n(n.P+n.F*(_||T),t,y);return y}},{"./_export":58,"./_hide":63,"./_iter-create":71,"./_iterators":75,"./_library":76,"./_object-gpo":86,"./_redefine":94,"./_set-to-string-tag":99,"./_wks":113}],73:[function(e,t,o){var r=e("./_wks")("iterator"),n=!1;try{var i=[7][r]();i.return=function(){n=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!n)return!1;var o=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:o=!0}},i[r]=function(){return a},e(i)}catch(e){}return o}},{"./_wks":113}],74:[function(e,t,o){t.exports=function(e,t){return{value:t,done:!!e}}},{}],75:[function(e,t,o){t.exports={}},{}],76:[function(e,t,o){t.exports=!0},{}],77:[function(e,t,o){var r=e("./_uid")("meta"),n=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,s=0,c=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},_=function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},d=function(e){return u&&p.NEED&&c(e)&&!i(e,r)&&l(e),e},p=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:_,onFreeze:d}},{"./_fails":59,"./_has":62,"./_is-object":69,"./_object-dp":80,"./_uid":109}],78:[function(e,t,o){"use strict";var r=e("./_object-keys"),n=e("./_object-gops"),i=e("./_object-pie"),a=e("./_to-object"),s=e("./_iobject"),c=Object.assign;t.exports=!c||e("./_fails")(function(){var e={},t={},o=Symbol(),r="abcdefghijklmnopqrst";return e[o]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[o]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var o=a(e),c=arguments.length,u=1,l=n.f,f=i.f;c>u;)for(var _,d=s(arguments[u++]),p=l?r(d).concat(l(d)):r(d),h=p.length,b=0;h>b;)f.call(d,_=p[b++])&&(o[_]=d[_]);return o}:c},{"./_fails":59,"./_iobject":66,"./_object-gops":85,"./_object-keys":88,"./_object-pie":89,"./_to-object":107}],79:[function(e,t,o){var r=e("./_an-object"),n=e("./_object-dps"),i=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},c=function(){var t,o=e("./_dom-create")("iframe"),r=i.length;for(o.style.display="none",e("./_html").appendChild(o),o.src="javascript:",t=o.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(e,t){var o;return null!==e?(s.prototype=r(e),o=new s,s.prototype=null,o[a]=e):o=c(),void 0===t?o:n(o,t)}},{"./_an-object":39,"./_dom-create":55,"./_enum-bug-keys":56,"./_html":64,"./_object-dps":81,"./_shared-key":100}],80:[function(e,t,o){var r=e("./_an-object"),n=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;o.f=e("./_descriptors")?Object.defineProperty:function(e,t,o){if(r(e),t=i(t,!0),r(o),n)try{return a(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[t]=o.value),e}},{"./_an-object":39,"./_descriptors":54,"./_ie8-dom-define":65,"./_to-primitive":108}],81:[function(e,t,o){var r=e("./_object-dp"),n=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){n(e);for(var o,a=i(t),s=a.length,c=0;s>c;)r.f(e,o=a[c++],t[o]);return e}},{"./_an-object":39,"./_descriptors":54,"./_object-dp":80,"./_object-keys":88}],82:[function(e,t,o){var r=e("./_object-pie"),n=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),c=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;o.f=e("./_descriptors")?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return n(!r.f.call(e,t),e[t])}},{"./_descriptors":54,"./_has":62,"./_ie8-dom-define":65,"./_object-pie":89,"./_property-desc":92,"./_to-iobject":105,"./_to-primitive":108}],83:[function(e,t,o){var r=e("./_to-iobject"),n=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return n(e)}catch(e){return a.slice()}};t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?s(e):n(r(e))}},{"./_object-gopn":84,"./_to-iobject":105}],84:[function(e,t,o){var r=e("./_object-keys-internal"),n=e("./_enum-bug-keys").concat("length","prototype");o.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},{"./_enum-bug-keys":56,"./_object-keys-internal":87}],85:[function(e,t,o){o.f=Object.getOwnPropertySymbols},{}],86:[function(e,t,o){var r=e("./_has"),n=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=n(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":62,"./_shared-key":100,"./_to-object":107}],87:[function(e,t,o){var r=e("./_has"),n=e("./_to-iobject"),i=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var o,s=n(e),c=0,u=[];for(o in s)o!=a&&r(s,o)&&u.push(o);for(;t.length>c;)r(s,o=t[c++])&&(~i(u,o)||u.push(o));return u}},{"./_array-includes":41,"./_has":62,"./_shared-key":100,"./_to-iobject":105}],88:[function(e,t,o){var r=e("./_object-keys-internal"),n=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,n)}},{"./_enum-bug-keys":56,"./_object-keys-internal":87}],89:[function(e,t,o){o.f={}.propertyIsEnumerable},{}],90:[function(e,t,o){var r=e("./_export"),n=e("./_core"),i=e("./_fails");t.exports=function(e,t){var o=(n.Object||{})[e]||Object[e],a={};a[e]=t(o),r(r.S+r.F*i(function(){o(1)}),"Object",a)}},{"./_core":50,"./_export":58,"./_fails":59}],91:[function(e,t,o){var r=e("./_object-keys"),n=e("./_to-iobject"),i=e("./_object-pie").f;t.exports=function(e){return function(t){for(var o,a=n(t),s=r(a),c=s.length,u=0,l=[];c>u;)i.call(a,o=s[u++])&&l.push(e?[o,a[o]]:a[o]);return l}}},{"./_object-keys":88,"./_object-pie":89,"./_to-iobject":105}],92:[function(e,t,o){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],93:[function(e,t,o){var r=e("./_hide");t.exports=function(e,t,o){for(var n in t)o&&e[n]?e[n]=t[n]:r(e,n,t[n]);return e}},{"./_hide":63}],94:[function(e,t,o){t.exports=e("./_hide")},{"./_hide":63}],95:[function(e,t,o){"use strict";var r=e("./_export"),n=e("./_a-function"),i=e("./_ctx"),a=e("./_for-of");t.exports=function(e){r(r.S,e,{from:function(e){var t,o,r,s,c=arguments[1];return n(this),t=void 0!==c,t&&n(c),void 0==e?new this:(o=[],t?(r=0,s=i(c,arguments[2],2),a(e,!1,function(e){o.push(s(e,r++))})):a(e,!1,o.push,o),new this(o))}})}},{"./_a-function":36,"./_ctx":52,"./_export":58,"./_for-of":60}],96:[function(e,t,o){"use strict";var r=e("./_export");t.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{"./_export":58}],97:[function(e,t,o){var r=e("./_is-object"),n=e("./_an-object"),i=function(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,o,r){try{r=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),r(t,[]),o=!(t instanceof Array)}catch(e){o=!0}return function(e,t){return i(e,t),o?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":39,"./_ctx":52,"./_is-object":69,"./_object-gopd":82}],98:[function(e,t,o){"use strict";var r=e("./_global"),n=e("./_core"),i=e("./_object-dp"),a=e("./_descriptors"),s=e("./_wks")("species");t.exports=function(e){var t="function"==typeof n[e]?n[e]:r[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},{"./_core":50,"./_descriptors":54,"./_global":61,"./_object-dp":80,"./_wks":113}],99:[function(e,t,o){var r=e("./_object-dp").f,n=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,o){e&&!n(e=o?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./_has":62,"./_object-dp":80,"./_wks":113}],100:[function(e,t,o){var r=e("./_shared")("keys"),n=e("./_uid");t.exports=function(e){return r[e]||(r[e]=n(e))}},{"./_shared":101,"./_uid":109}],101:[function(e,t,o){var r=e("./_core"),n=e("./_global"),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":50,"./_global":61,"./_library":76}],102:[function(e,t,o){var r=e("./_to-integer"),n=e("./_defined");t.exports=function(e){return function(t,o){var i,a,s=String(n(t)),c=r(o),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536)}}},{"./_defined":53,"./_to-integer":104}],103:[function(e,t,o){var r=e("./_to-integer"),n=Math.max,i=Math.min;t.exports=function(e,t){return e=r(e),e<0?n(e+t,0):i(e,t)}},{"./_to-integer":104}],104:[function(e,t,o){var r=Math.ceil,n=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},{}],105:[function(e,t,o){var r=e("./_iobject"),n=e("./_defined");t.exports=function(e){return r(n(e))}},{"./_defined":53,"./_iobject":66}],106:[function(e,t,o){var r=e("./_to-integer"),n=Math.min;t.exports=function(e){return e>0?n(r(e),9007199254740991):0}},{"./_to-integer":104}],107:[function(e,t,o){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":53}],108:[function(e,t,o){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var o,n;if(t&&"function"==typeof(o=e.toString)&&!r(n=o.call(e)))return n;if("function"==typeof(o=e.valueOf)&&!r(n=o.call(e)))return n;if(!t&&"function"==typeof(o=e.toString)&&!r(n=o.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":69}],109:[function(e,t,o){var r=0,n=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},{}],110:[function(e,t,o){var r=e("./_is-object");t.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":69}],111:[function(e,t,o){
var r=e("./_global"),n=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=n.Symbol||(n.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":50,"./_global":61,"./_library":76,"./_object-dp":80,"./_wks-ext":112}],112:[function(e,t,o){o.f=e("./_wks")},{"./_wks":113}],113:[function(e,t,o){var r=e("./_shared")("wks"),n=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i;(t.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:n)("Symbol."+e))}).store=r},{"./_global":61,"./_shared":101,"./_uid":109}],114:[function(e,t,o){var r=e("./_classof"),n=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||i[r(e)]}},{"./_classof":45,"./_core":50,"./_iterators":75,"./_wks":113}],115:[function(e,t,o){var r=e("./_an-object"),n=e("./core.get-iterator-method");t.exports=e("./_core").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},{"./_an-object":39,"./_core":50,"./core.get-iterator-method":114}],116:[function(e,t,o){var r=e("./_classof"),n=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||i.hasOwnProperty(r(t))}},{"./_classof":45,"./_core":50,"./_iterators":75,"./_wks":113}],117:[function(e,t,o){"use strict";var r=e("./_ctx"),n=e("./_export"),i=e("./_to-object"),a=e("./_iter-call"),s=e("./_is-array-iter"),c=e("./_to-length"),u=e("./_create-property"),l=e("./core.get-iterator-method");n(n.S+n.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,o,n,f,_=i(e),d="function"==typeof this?this:Array,p=arguments.length,h=p>1?arguments[1]:void 0,b=void 0!==h,m=0,y=l(_);if(b&&(h=r(h,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(t=c(_.length),o=new d(t);t>m;m++)u(o,m,b?h(_[m],m):_[m]);else for(f=y.call(_),o=new d;!(n=f.next()).done;m++)u(o,m,b?a(f,h,[n.value,m],!0):n.value);return o.length=m,o}})},{"./_create-property":51,"./_ctx":52,"./_export":58,"./_is-array-iter":67,"./_iter-call":70,"./_iter-detect":73,"./_to-length":106,"./_to-object":107,"./core.get-iterator-method":114}],118:[function(e,t,o){"use strict";var r=e("./_add-to-unscopables"),n=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,o=this._i++;return!e||o>=e.length?(this._t=void 0,n(1)):"keys"==t?n(0,o):"values"==t?n(0,e[o]):n(0,[o,e[o]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":37,"./_iter-define":72,"./_iter-step":74,"./_iterators":75,"./_to-iobject":105}],119:[function(e,t,o){"use strict";var r=e("./_collection-strong"),n=e("./_validate-collection");t.exports=e("./_collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(n(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(n(this,"Map"),0===e?0:e,t)}},r,!0)},{"./_collection":49,"./_collection-strong":47,"./_validate-collection":110}],120:[function(e,t,o){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":58,"./_object-assign":78}],121:[function(e,t,o){var r=e("./_export");r(r.S,"Object",{create:e("./_object-create")})},{"./_export":58,"./_object-create":79}],122:[function(e,t,o){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":54,"./_export":58,"./_object-dp":80}],123:[function(e,t,o){var r=e("./_is-object"),n=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(e){return function(t){return e&&r(t)?e(n(t)):t}})},{"./_is-object":69,"./_meta":77,"./_object-sap":90}],124:[function(e,t,o){var r=e("./_to-iobject"),n=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return n(r(e),t)}})},{"./_object-gopd":82,"./_object-sap":90,"./_to-iobject":105}],125:[function(e,t,o){var r=e("./_to-object"),n=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return n(r(e))}})},{"./_object-gpo":86,"./_object-sap":90,"./_to-object":107}],126:[function(e,t,o){var r=e("./_to-object"),n=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return n(r(e))}})},{"./_object-keys":88,"./_object-sap":90,"./_to-object":107}],127:[function(e,t,o){var r=e("./_export");r(r.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":58,"./_set-proto":97}],128:[function(e,t,o){},{}],129:[function(e,t,o){"use strict";var r=e("./_collection-strong"),n=e("./_validate-collection");t.exports=e("./_collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(n(this,"Set"),e=0===e?0:e,e)}},r)},{"./_collection":49,"./_collection-strong":47,"./_validate-collection":110}],130:[function(e,t,o){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,o=this._i;return o>=t.length?{value:void 0,done:!0}:(e=r(t,o),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":72,"./_string-at":102}],131:[function(e,t,o){"use strict";var r=e("./_global"),n=e("./_has"),i=e("./_descriptors"),a=e("./_export"),s=e("./_redefine"),c=e("./_meta").KEY,u=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),_=e("./_uid"),d=e("./_wks"),p=e("./_wks-ext"),h=e("./_wks-define"),b=e("./_enum-keys"),m=e("./_is-array"),y=e("./_an-object"),v=e("./_is-object"),g=e("./_to-iobject"),j=e("./_to-primitive"),E=e("./_property-desc"),S=e("./_object-create"),T=e("./_object-gopn-ext"),O=e("./_object-gopd"),w=e("./_object-dp"),A=e("./_object-keys"),N=O.f,x=w.f,I=T.f,M=r.Symbol,k=r.JSON,R=k&&k.stringify,C=d("_hidden"),P=d("toPrimitive"),L={}.propertyIsEnumerable,V=l("symbol-registry"),D=l("symbols"),U=l("op-symbols"),F=Object.prototype,B="function"==typeof M,q=r.QObject,G=!q||!q.prototype||!q.prototype.findChild,z=i&&u(function(){return 7!=S(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(e,t,o){var r=N(F,t);r&&delete F[t],x(e,t,o),r&&e!==F&&x(F,t,r)}:x,X=function(e){var t=D[e]=S(M.prototype);return t._k=e,t},H=B&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},J=function(e,t,o){return e===F&&J(U,t,o),y(e),t=j(t,!0),y(o),n(D,t)?(o.enumerable?(n(e,C)&&e[C][t]&&(e[C][t]=!1),o=S(o,{enumerable:E(0,!1)})):(n(e,C)||x(e,C,E(1,{})),e[C][t]=!0),z(e,t,o)):x(e,t,o)},Y=function(e,t){y(e);for(var o,r=b(t=g(t)),n=0,i=r.length;i>n;)J(e,o=r[n++],t[o]);return e},W=function(e,t){return void 0===t?S(e):Y(S(e),t)},K=function(e){var t=L.call(this,e=j(e,!0));return!(this===F&&n(D,e)&&!n(U,e))&&(!(t||!n(this,e)||!n(D,e)||n(this,C)&&this[C][e])||t)},$=function(e,t){if(e=g(e),t=j(t,!0),e!==F||!n(D,t)||n(U,t)){var o=N(e,t);return!o||!n(D,t)||n(e,C)&&e[C][t]||(o.enumerable=!0),o}},Z=function(e){for(var t,o=I(g(e)),r=[],i=0;o.length>i;)n(D,t=o[i++])||t==C||t==c||r.push(t);return r},Q=function(e){for(var t,o=e===F,r=I(o?U:g(e)),i=[],a=0;r.length>a;)!n(D,t=r[a++])||o&&!n(F,t)||i.push(D[t]);return i};B||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=_(arguments.length>0?arguments[0]:void 0),t=function(o){this===F&&t.call(U,o),n(this,C)&&n(this[C],e)&&(this[C][e]=!1),z(this,e,E(1,o))};return i&&G&&z(F,e,{configurable:!0,set:t}),X(e)},s(M.prototype,"toString",function(){return this._k}),O.f=$,w.f=J,e("./_object-gopn").f=T.f=Z,e("./_object-pie").f=K,e("./_object-gops").f=Q,i&&!e("./_library")&&s(F,"propertyIsEnumerable",K,!0),p.f=function(e){return X(d(e))}),a(a.G+a.W+a.F*!B,{Symbol:M});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var oe=A(d.store),re=0;oe.length>re;)h(oe[re++]);a(a.S+a.F*!B,"Symbol",{for:function(e){return n(V,e+="")?V[e]:V[e]=M(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!B,"Object",{create:W,defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),k&&a(a.S+a.F*(!B||u(function(){var e=M();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,o,r=[e],n=1;arguments.length>n;)r.push(arguments[n++]);if(o=t=r[1],(v(t)||void 0!==e)&&!H(e))return m(t)||(t=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!H(t))return t}),r[1]=t,R.apply(k,r)}}),M.prototype[P]||e("./_hide")(M.prototype,P,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},{"./_an-object":39,"./_descriptors":54,"./_enum-keys":57,"./_export":58,"./_fails":59,"./_global":61,"./_has":62,"./_hide":63,"./_is-array":68,"./_is-object":69,"./_library":76,"./_meta":77,"./_object-create":79,"./_object-dp":80,"./_object-gopd":82,"./_object-gopn":84,"./_object-gopn-ext":83,"./_object-gops":85,"./_object-keys":88,"./_object-pie":89,"./_property-desc":92,"./_redefine":94,"./_set-to-string-tag":99,"./_shared":101,"./_to-iobject":105,"./_to-primitive":108,"./_uid":109,"./_wks":113,"./_wks-define":111,"./_wks-ext":112}],132:[function(e,t,o){e("./_set-collection-from")("Map")},{"./_set-collection-from":95}],133:[function(e,t,o){e("./_set-collection-of")("Map")},{"./_set-collection-of":96}],134:[function(e,t,o){var r=e("./_export");r(r.P+r.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":48,"./_export":58}],135:[function(e,t,o){var r=e("./_export"),n=e("./_object-to-array")(!1);r(r.S,"Object",{values:function(e){return n(e)}})},{"./_export":58,"./_object-to-array":91}],136:[function(e,t,o){e("./_set-collection-from")("Set")},{"./_set-collection-from":95}],137:[function(e,t,o){e("./_set-collection-of")("Set")},{"./_set-collection-of":96}],138:[function(e,t,o){var r=e("./_export");r(r.P+r.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":48,"./_export":58}],139:[function(e,t,o){e("./_wks-define")("asyncIterator")},{"./_wks-define":111}],140:[function(e,t,o){e("./_wks-define")("observable")},{"./_wks-define":111}],141:[function(e,t,o){e("./es6.array.iterator");for(var r=e("./_global"),n=e("./_hide"),i=e("./_iterators"),a=e("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],f=l&&l.prototype;f&&!f[a]&&n(f,a,u),i[u]=i.Array}},{"./_global":61,"./_hide":63,"./_iterators":75,"./_wks":113,"./es6.array.iterator":118}],142:[function(e,t,o){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,o,r,i,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(o=this._events[e],s(o))return!1;if(n(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),o.apply(this,i)}else if(a(o))for(i=Array.prototype.slice.call(arguments,1),u=o.slice(),r=u.length,c=0;c<r;c++)u[c].apply(this,i);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function o(){this.removeListener(e,o),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var r=!1;return o.listener=t,this.on(e,o),this},r.prototype.removeListener=function(e,t){var o,r,i,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=this._events[e],i=o.length,r=-1,o===t||n(o.listener)&&o.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(o)){for(s=i;s-- >0;)if(o[s]===t||o[s].listener&&o[s].listener===t){r=s;break}if(r<0)return this;1===o.length?(o.length=0,delete this._events[e]):o.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,o;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o=this._events[e],n(o))this.removeListener(e,o);else if(o)for(;o.length;)this.removeListener(e,o[o.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],143:[function(e,t,o){function r(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}function n(e,t){for(var o=-1,r=Array(e);++o<e;)r[o]=t(o);return r}function i(e,t){var o=C(e)||b(e)?n(e.length,String):[],r=o.length,i=!!r;for(var a in e)!t&&!I.call(e,a)||i&&("length"==a||f(a,r))||o.push(a);return o}function a(e,t,o,r){return void 0===e||h(e,x[o])&&!I.call(r,o)?t:e}function s(e,t,o){var r=e[t];I.call(e,t)&&h(r,o)&&(void 0!==o||t in e)||(e[t]=o)}function c(e){if(!j(e))return p(e);var t=d(e),o=[];for(var r in e)("constructor"!=r||!t&&I.call(e,r))&&o.push(r);return o}function u(e,t){return t=R(void 0===t?e.length-1:t,0),function(){for(var o=arguments,n=-1,i=R(o.length-t,0),a=Array(i);++n<i;)a[n]=o[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=o[n];return s[t]=a,r(e,this,s)}}function l(e,t,o,r){o||(o={});for(var n=-1,i=t.length;++n<i;){var a=t[n],c=r?r(o[a],e[a],a,o,e):void 0;s(o,a,void 0===c?e[a]:c)}return o}function f(e,t){return!!(t=null==t?T:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function _(e,t,o){if(!j(o))return!1;var r=typeof t;return!!("number"==r?m(o)&&f(t,o.length):"string"==r&&t in o)&&h(o[t],e)}function d(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||x)}function p(e){var t=[];if(null!=e)for(var o in Object(e))t.push(o);return t}function h(e,t){return e===t||e!==e&&t!==t}function b(e){return y(e)&&I.call(e,"callee")&&(!k.call(e,"callee")||M.call(e)==O)}function m(e){return null!=e&&g(e.length)&&!v(e)}function y(e){return E(e)&&m(e)}function v(e){var t=j(e)?M.call(e):"";return t==w||t==A}function g(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=T}function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){return!!e&&"object"==typeof e}function S(e){return m(e)?i(e,!0):c(e)}var T=9007199254740991,O="[object Arguments]",w="[object Function]",A="[object GeneratorFunction]",N=/^(?:0|[1-9]\d*)$/,x=Object.prototype,I=x.hasOwnProperty,M=x.toString,k=x.propertyIsEnumerable,R=Math.max,C=Array.isArray,P=function(e){return u(function(t,o){var r=-1,n=o.length,i=n>1?o[n-1]:void 0,a=n>2?o[2]:void 0;for(i=e.length>3&&"function"==typeof i?(n--,i):void 0,a&&_(o[0],o[1],a)&&(i=n<3?void 0:i,n=1),t=Object(t);++r<n;){var s=o[r];s&&e(t,s,r,i)}return t})}(function(e,t,o,r){l(t,S(t),e,r)}),L=u(function(e){return e.push(void 0,a),r(P,void 0,e)});t.exports=L},{}],144:[function(e,t,o){(function(e){function o(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}function r(e,t){for(var o=-1,r=e?e.length:0,n=Array(r);++o<r;)n[o]=t(e[o],o,e);return n}function n(e,t){for(var o=-1,r=t.length,n=e.length;++o<r;)e[n+o]=t[o];return e}function i(e,t,o,r,a){var s=-1,u=e.length;for(o||(o=c),a||(a=[]);++s<u;){var l=e[s];t>0&&o(l)?t>1?i(l,t-1,o,r,a):n(a,l):r||(a[a.length]=l)}return a}function a(e,t){return e=Object(e),s(e,t,function(t,o){return o in e})}function s(e,t,o){for(var r=-1,n=t.length,i={};++r<n;){var a=t[r],s=e[a];o(s,a)&&(i[a]=s)}return i}function c(e){return C(e)||l(e)||!!(k&&e&&e[k])}function u(e){if("string"==typeof e||m(e))return e;var t=e+"";return"0"==t&&1/e==-y?"-0":t}function l(e){return _(e)&&N.call(e,"callee")&&(!M.call(e,"callee")||x.call(e)==g)}function f(e){return null!=e&&p(e.length)&&!d(e)}function _(e){return b(e)&&f(e)}function d(e){var t=h(e)?x.call(e):"";return t==j||t==E}function p(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=v}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}function m(e){return"symbol"==typeof e||b(e)&&x.call(e)==S}var y=1/0,v=9007199254740991,g="[object Arguments]",j="[object Function]",E="[object GeneratorFunction]",S="[object Symbol]",T="object"==typeof e&&e&&e.Object===Object&&e,O="object"==typeof self&&self&&self.Object===Object&&self,w=T||O||Function("return this")(),A=Object.prototype,N=A.hasOwnProperty,x=A.toString,I=w.Symbol,M=A.propertyIsEnumerable,k=I?I.isConcatSpreadable:void 0,R=Math.max,C=Array.isArray,P=function(e,t){return t=R(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=R(r.length-t,0),a=Array(i);++n<i;)a[n]=r[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=r[n];return s[t]=a,o(e,this,s)}}(function(e,t){return null==e?{}:a(e,r(i(t,1),u))});t.exports=P}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],145:[function(e,t,o){(function(e){function o(e,t){return!!(e?e.length:0)&&i(e,t,0)>-1}function r(e,t,o){for(var r=-1,n=e?e.length:0;++r<n;)if(o(t,e[r]))return!0;return!1}function n(e,t,o,r){for(var n=e.length,i=o+(r?1:-1);r?i--:++i<n;)if(t(e[i],i,e))return i;return-1}function i(e,t,o){if(t!==t)return n(e,a,o);for(var r=o-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function a(e){return e!==e}function s(e,t){return e.has(t)}function c(e,t){return null==e?void 0:e[t]}function u(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o}function f(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}function _(){this.__data__=_e?_e(null):{}}function d(e){return this.has(e)&&delete this.__data__[e]}function p(e){var t=this.__data__;if(_e){var o=t[e];return o===H?void 0:o}return ae.call(t,e)?t[e]:void 0}function h(e){var t=this.__data__;return _e?void 0!==t[e]:ae.call(t,e)}function b(e,t){return this.__data__[e]=_e&&void 0===t?H:t,this}function m(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__=[]}function v(e){var t=this.__data__,o=k(t,e);return!(o<0)&&(o==t.length-1?t.pop():ue.call(t,o,1),!0)}function g(e){var t=this.__data__,o=k(t,e);return o<0?void 0:t[o][1]}function j(e){return k(this.__data__,e)>-1}function E(e,t){var o=this.__data__,r=k(o,e);return r<0?o.push([e,t]):o[r][1]=t,this}function S(e){var t=-1,o=e?e.length:0;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}function T(){this.__data__={hash:new f,map:new(le||m),string:new f}}function O(e){return P(this,e).delete(e)}function w(e){return P(this,e).get(e)}function A(e){return P(this,e).has(e)}function N(e,t){return P(this,e).set(e,t),this}function x(e){var t=-1,o=e?e.length:0;for(this.__data__=new S;++t<o;)this.add(e[t])}function I(e){return this.__data__.set(e,H),this}function M(e){return this.__data__.has(e)}function k(e,t){for(var o=e.length;o--;)if(B(e[o][0],t))return o;return-1}function R(e){return!(!G(e)||D(e))&&(q(e)||u(e)?ce:K).test(U(e))}function C(e,t,n){var i=-1,a=o,c=e.length,u=!0,f=[],_=f;if(n)u=!1,a=r;else if(c>=X){var d=t?null:de(e);if(d)return l(d);u=!1,a=s,_=new x}else _=t?[]:f;e:for(;++i<c;){var p=e[i],h=t?t(p):p;if(p=n||0!==p?p:0,u&&h===h){for(var b=_.length;b--;)if(_[b]===h)continue e;t&&_.push(h),f.push(p)}else a(_,h,n)||(_!==f&&_.push(h),f.push(p))}return f}function P(e,t){var o=e.__data__;return V(t)?o["string"==typeof t?"string":"hash"]:o.map}function L(e,t){var o=c(e,t);return R(o)?o:void 0}function V(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function D(e){return!!ne&&ne in e}function U(e){if(null!=e){try{return ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function F(e){return e&&e.length?C(e):[]}function B(e,t){return e===t||e!==e&&t!==t}function q(e){var t=G(e)?se.call(e):"";return t==J||t==Y}function G(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function z(){}var X=200,H="__lodash_hash_undefined__",J="[object Function]",Y="[object GeneratorFunction]",W=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,$="object"==typeof e&&e&&e.Object===Object&&e,Z="object"==typeof self&&self&&self.Object===Object&&self,Q=$||Z||Function("return this")(),ee=Array.prototype,te=Function.prototype,oe=Object.prototype,re=Q["__core-js_shared__"],ne=function(){var e=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ie=te.toString,ae=oe.hasOwnProperty,se=oe.toString,ce=RegExp("^"+ie.call(ae).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=ee.splice,le=L(Q,"Map"),fe=L(Q,"Set"),_e=L(Object,"create");f.prototype.clear=_,f.prototype.delete=d,f.prototype.get=p,f.prototype.has=h,f.prototype.set=b,m.prototype.clear=y,m.prototype.delete=v,m.prototype.get=g,m.prototype.has=j,m.prototype.set=E,S.prototype.clear=T,S.prototype.delete=O,S.prototype.get=w,S.prototype.has=A,S.prototype.set=N,x.prototype.add=x.prototype.push=I,x.prototype.has=M;var de=fe&&1/l(new fe([,-0]))[1]==1/0?function(e){return new fe(e)}:z;t.exports=F}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],146:[function(e,t,o){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(_===clearTimeout)return clearTimeout(e);if((_===n||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(e);try{return _(e)}catch(t){try{return _.call(null,e)}catch(t){return _.call(this,e)}}}function s(){b&&p&&(b=!1,p.length?h=p.concat(h):m=-1,h.length&&c())}function c(){if(!b){var e=i(s);b=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,b=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var f,_,d=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{_="function"==typeof clearTimeout?clearTimeout:n}catch(e){_=n}}();var p,h=[],b=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];h.push(new u(e,t)),1!==h.length||b||i(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],147:[function(t,o,r){(function(t){!function(n){function i(e){throw new RangeError(C[e])}function a(e,t){for(var o=e.length,r=[];o--;)r[o]=t(e[o]);return r}function s(e,t){var o=e.split("@"),r="";return o.length>1&&(r=o[0]+"@",e=o[1]),e=e.replace(R,"."),r+a(e.split("."),t).join(".")}function c(e){for(var t,o,r=[],n=0,i=e.length;n<i;)t=e.charCodeAt(n++),t>=55296&&t<=56319&&n<i?(o=e.charCodeAt(n++),56320==(64512&o)?r.push(((1023&t)<<10)+(1023&o)+65536):(r.push(t),n--)):r.push(t);return r}function u(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=V(e>>>10&1023|55296),e=56320|1023&e),t+=V(e)}).join("")}function l(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:S}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,o){var r=0;for(e=o?L(e/A):e>>1,e+=L(e/t);e>P*O>>1;r+=S)e=L(e/P);return L(r+(P+1)*e/(e+w))}function d(e){var t,o,r,n,a,s,c,f,d,p,h=[],b=e.length,m=0,y=x,v=N;for(o=e.lastIndexOf(I),o<0&&(o=0),r=0;r<o;++r)e.charCodeAt(r)>=128&&i("not-basic"),h.push(e.charCodeAt(r));for(n=o>0?o+1:0;n<b;){for(a=m,s=1,c=S;n>=b&&i("invalid-input"),f=l(e.charCodeAt(n++)),(f>=S||f>L((E-m)/s))&&i("overflow"),m+=f*s,d=c<=v?T:c>=v+O?O:c-v,!(f<d);c+=S)p=S-d,s>L(E/p)&&i("overflow"),s*=p;t=h.length+1,v=_(m-a,t,0==a),L(m/t)>E-y&&i("overflow"),y+=L(m/t),m%=t,h.splice(m++,0,y)}return u(h)}function p(e){var t,o,r,n,a,s,u,l,d,p,h,b,m,y,v,g=[];for(e=c(e),b=e.length,t=x,o=0,a=N,s=0;s<b;++s)(h=e[s])<128&&g.push(V(h));for(r=n=g.length,n&&g.push(I);r<b;){for(u=E,s=0;s<b;++s)(h=e[s])>=t&&h<u&&(u=h);for(m=r+1,u-t>L((E-o)/m)&&i("overflow"),o+=(u-t)*m,t=u,s=0;s<b;++s)if(h=e[s],h<t&&++o>E&&i("overflow"),h==t){for(l=o,d=S;p=d<=a?T:d>=a+O?O:d-a,!(l<p);d+=S)v=l-p,y=S-p,g.push(V(f(p+v%y,0))),l=L(v/y);g.push(V(f(l,0))),a=_(o,m,r==n),o=0,++r}++o,++t}return g.join("")}function h(e){return s(e,function(e){return M.test(e)?d(e.slice(4).toLowerCase()):e})}function b(e){return s(e,function(e){return k.test(e)?"xn--"+p(e):e})}var m="object"==typeof r&&r&&!r.nodeType&&r,y="object"==typeof o&&o&&!o.nodeType&&o,v="object"==typeof t&&t;v.global!==v&&v.window!==v&&v.self!==v||(n=v);var g,j,E=2147483647,S=36,T=1,O=26,w=38,A=700,N=72,x=128,I="-",M=/^xn--/,k=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=S-T,L=Math.floor,V=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:c,encode:u},decode:d,encode:p,toASCII:b,toUnicode:h},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return g});else if(m&&y)if(o.exports==m)y.exports=g;else for(j in g)g.hasOwnProperty(j)&&(m[j]=g[j]);else n.punycode=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],148:[function(e,t,o){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,o,i){t=t||"&",o=o||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,_,d,p,h=e[l].replace(s,"%20"),b=h.indexOf(o);b>=0?(f=h.substr(0,b),_=h.substr(b+1)):(f=h,_=""),d=decodeURIComponent(f),p=decodeURIComponent(_),r(a,d)?n(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],149:[function(e,t,o){"use strict";function r(e,t){if(e.map)return e.map(t);for(var o=[],r=0;r<e.length;r++)o.push(t(e[r],r));return o}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,o,s){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(n(a))+o;return i(e[a])?r(e[a],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[a]))}).join(t):s?encodeURIComponent(n(s))+o+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o);return t}},{}],150:[function(e,t,o){"use strict";o.decode=o.parse=e("./decode"),o.encode=o.stringify=e("./encode")},{"./decode":148,"./encode":149}],151:[function(t,o,r){!function(){"use strict";function t(e){return n(i(e),arguments)}function o(e,o){return t.apply(null,[e].concat(o||[]))}function n(e,o){var r,n,i,s,c,u,l,f,_,d=1,p=e.length,h="";for(n=0;n<p;n++)if("string"==typeof e[n])h+=e[n];else if("object"==typeof e[n]){if(s=e[n],s.keys)for(r=o[d],i=0;i<s.keys.length;i++){if(void 0==r)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[i],s.keys[i-1]));r=r[s.keys[i]]}else r=s.param_no?o[s.param_no]:o[d++];if(a.not_type.test(s.type)&&a.not_primitive.test(s.type)&&r instanceof Function&&(r=r()),a.numeric_arg.test(s.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(t("[sprintf] expecting number but found %T",r));switch(a.number.test(s.type)&&(f=r>=0),s.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,s.width?parseInt(s.width):0);break;case"e":r=s.precision?parseFloat(r).toExponential(s.precision):parseFloat(r).toExponential();break;case"f":r=s.precision?parseFloat(r).toFixed(s.precision):parseFloat(r);break;case"g":r=s.precision?String(Number(r.toPrecision(s.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=s.precision?r.substring(0,s.precision):r;break;case"t":r=String(!!r),r=s.precision?r.substring(0,s.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=s.precision?r.substring(0,s.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=s.precision?r.substring(0,s.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}a.json.test(s.type)?h+=r:(!a.number.test(s.type)||f&&!s.sign?_="":(_=f?"+":"-",r=r.toString().replace(a.sign,"")),u=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",l=s.width-(_+r).length,c=s.width&&l>0?u.repeat(l):"",h+=s.align?_+r+c:"0"===u?_+c+r:c+_+r)}return h}function i(e){if(s[e])return s[e];for(var t,o=e,r=[],n=0;o;){if(null!==(t=a.text.exec(o)))r.push(t[0]);else if(null!==(t=a.modulo.exec(o)))r.push("%");else{
if(null===(t=a.placeholder.exec(o)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){n|=1;var i=[],c=t[2],u=[];if(null===(u=a.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(i.push(u[1]);""!==(c=c.substring(u[0].length));)if(null!==(u=a.key_access.exec(c)))i.push(u[1]);else{if(null===(u=a.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");i.push(u[1])}t[2]=i}else n|=2;if(3===n)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}o=o.substring(t[0].length)}return s[e]=r}var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},s=Object.create(null);void 0!==r&&(r.sprintf=t,r.vsprintf=o),"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=o,"function"==typeof e&&e.amd&&e(function(){return{sprintf:t,vsprintf:o}}))}()},{}],152:[function(e,t,o){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(e,t,o){if(e&&u.isObject(e)&&e instanceof r)return e;var n=new r;return n.parse(e,t,o),n}function i(e){return u.isString(e)&&(e=n(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return n(e,!1,!0).resolve(t)}function s(e,t){return e?n(e,!1,!0).resolveObject(t):t}var c=e("punycode"),u=e("./util");o.parse=n,o.resolve=a,o.resolveObject=s,o.format=i,o.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,_=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),h=["'"].concat(p),b=["%","/","?",";","#"].concat(h),m=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},j={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=e("querystring");r.prototype.parse=function(e,t,o){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),n=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(n),a=/\\/g;i[0]=i[0].replace(a,"/"),e=i.join(n);var s=e;if(s=s.trim(),!o&&1===e.split("#").length){var f=_.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?S.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=l.exec(s);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,s=s.substr(d.length)}if(o||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===s.substr(0,2);!T||d&&j[d]||(s=s.substr(2),this.slashes=!0)}if(!j[d]&&(T||d&&!E[d])){for(var O=-1,w=0;w<m.length;w++){var A=s.indexOf(m[w]);-1!==A&&(-1===O||A<O)&&(O=A)}var N,x;x=-1===O?s.lastIndexOf("@"):s.lastIndexOf("@",O),-1!==x&&(N=s.slice(0,x),s=s.slice(x+1),this.auth=decodeURIComponent(N)),O=-1;for(var w=0;w<b.length;w++){var A=s.indexOf(b[w]);-1!==A&&(-1===O||A<O)&&(O=A)}-1===O&&(O=s.length),this.host=s.slice(0,O),s=s.slice(O),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var M=this.hostname.split(/\./),w=0,k=M.length;w<k;w++){var R=M[w];if(R&&!R.match(y)){for(var C="",P=0,L=R.length;P<L;P++)R.charCodeAt(P)>127?C+="x":C+=R[P];if(!C.match(y)){var V=M.slice(0,w),D=M.slice(w+1),U=R.match(v);U&&(V.push(U[1]),D.unshift(U[2])),D.length&&(s="/"+D.join(".")+s),this.hostname=V.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=c.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!g[p])for(var w=0,k=h.length;w<k;w++){var q=h[w];if(-1!==s.indexOf(q)){var G=encodeURIComponent(q);G===q&&(G=escape(q)),s=s.split(q).join(G)}}var z=s.indexOf("#");-1!==z&&(this.hash=s.substr(z),s=s.slice(0,z));var X=s.indexOf("?");if(-1!==X?(this.search=s.substr(X),this.query=s.substr(X+1),t&&(this.query=S.parse(this.query)),s=s.slice(0,X)):t&&(this.search="",this.query={}),s&&(this.pathname=s),E[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",H=this.search||"";this.path=F+H}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",o=this.pathname||"",r=this.hash||"",n=!1,i="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(i=S.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&!1!==n?(n="//"+(n||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),o=o.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+n+o+a+r},r.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var o=new r,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];o[a]=this[a]}if(o.hash=e.hash,""===e.href)return o.href=o.format(),o;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var l=s[c];"protocol"!==l&&(o[l]=e[l])}return E[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o}if(e.protocol&&e.protocol!==o.protocol){if(!E[e.protocol]){for(var f=Object.keys(e),_=0;_<f.length;_++){var d=f[_];o[d]=e[d]}return o.href=o.format(),o}if(o.protocol=e.protocol,e.host||j[e.protocol])o.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),o.pathname=p.join("/")}if(o.search=e.search,o.query=e.query,o.host=e.host||"",o.auth=e.auth,o.hostname=e.hostname||e.host,o.port=e.port,o.pathname||o.search){var h=o.pathname||"",b=o.search||"";o.path=h+b}return o.slashes=o.slashes||e.slashes,o.href=o.format(),o}var m=o.pathname&&"/"===o.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=y||m||o.host&&e.pathname,g=v,S=o.pathname&&o.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],T=o.protocol&&!E[o.protocol];if(T&&(o.hostname="",o.port=null,o.host&&(""===S[0]?S[0]=o.host:S.unshift(o.host)),o.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),v=v&&(""===p[0]||""===S[0])),y)o.host=e.host||""===e.host?e.host:o.host,o.hostname=e.hostname||""===e.hostname?e.hostname:o.hostname,o.search=e.search,o.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),o.search=e.search,o.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(T){o.hostname=o.host=S.shift();var O=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@");O&&(o.auth=O.shift(),o.host=o.hostname=O.shift())}return o.search=e.search,o.query=e.query,u.isNull(o.pathname)&&u.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o}if(!S.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var w=S.slice(-1)[0],A=(o.host||e.host||S.length>1)&&("."===w||".."===w)||""===w,N=0,x=S.length;x>=0;x--)w=S[x],"."===w?S.splice(x,1):".."===w?(S.splice(x,1),N++):N&&(S.splice(x,1),N--);if(!v&&!g)for(;N--;N)S.unshift("..");!v||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),A&&"/"!==S.join("/").substr(-1)&&S.push("");var I=""===S[0]||S[0]&&"/"===S[0].charAt(0);if(T){o.hostname=o.host=I?"":S.length?S.shift():"";var O=!!(o.host&&o.host.indexOf("@")>0)&&o.host.split("@");O&&(o.auth=O.shift(),o.host=o.hostname=O.shift())}return v=v||o.host&&S.length,v&&!I&&S.unshift(""),S.length?o.pathname=S.join("/"):(o.pathname=null,o.path=null),u.isNull(o.pathname)&&u.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=e.auth||o.auth,o.slashes=o.slashes||e.slashes,o.href=o.format(),o},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":153,punycode:147,querystring:150}],153:[function(e,t,o){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],154:[function(e,t,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),s=e("lodash.defaults"),c=function(e){return e&&e.__esModule?e:{default:e}}(s),u=e("events"),l=e("url"),f=e("./constants.js"),_=function(e){function t(e){r(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._options=(0,c.default)(e,{secure:!1,reconnect:!0,reconnect_attempts:5,reconnect_timeout:1e3,auto_connect:!0}),o._ws=null,o._forcedDisconnect=!1,o._currentReconnects=0,o._connectedInitially=!1,o._connectionState=f.CONNECTION_STATES.INIT,o._options.auto_connect&&o.connect(),o}return i(t,e),a(t,[{key:"_connect",value:function(){this._ws=new WebSocket(this.url),this._ws.onclose=this._onClose.bind(this),this._ws.onmessage=this._onMessage.bind(this),this._ws.onopen=this._onOpen.bind(this)}},{key:"_onClose",value:function(){return this._ws=null,this._connectedInitially?this._forcedDisconnect?(this._connectionState=f.CONNECTION_STATES.DISCONNECTED,void this.emit("connection_change",this.connectionState)):void(this._connectedInitially&&this._options.reconnect&&(this._connectionState=f.CONNECTION_STATES.RECONNECTING,this.emit("connection_change",this.connectionState),this._currentReconnects++<this._options.reconnect_attempts?setTimeout(this._reconnect.bind(this),this._options.reconnect_timeout):(this._connectionState=f.CONNECTION_STATES.DISCONNECTED,this.emit("connection_change",this.connectionState)))):(this._connectionState=f.CONNECTION_STATES.CONNECTION_FAIL,void this.emit("connection_change",this.connectionState))}},{key:"_onMessage",value:function(e){this.emit("message",JSON.parse(e.data))}},{key:"_onOpen",value:function(){this._connectedInitially=!0,this._currentReconnects=0,this._connectionState=f.CONNECTION_STATES.CONNECTED,this.emit("connection_change",this.connectionState)}},{key:"_reconnect",value:function(){this._connect()}},{key:"close",value:function(){this._ws&&(this._forcedDisconnect=!0,this._ws.close(),this._ws=null)}},{key:"connect",value:function(){this._ws||(this._connectionState=f.CONNECTION_STATES.CONNECTING,this.emit("connection_change",this.connectionState),this._connect())}},{key:"send",value:function(e){this._ws.send(JSON.stringify(e))}},{key:"connectionState",get:function(){return this._connectionState}},{key:"host",get:function(){return this._options.hostname}},{key:"port",get:function(){return this._options.port}},{key:"url",get:function(){return(0,l.format)({hostname:this._options.hostname,port:this._options.port,protocol:this._options.secure?"wss":"ws",slashes:!0})}}]),t}(u.EventEmitter);o.default=_,t.exports=o.default},{"./constants.js":155,events:142,"lodash.defaults":143,url:152}],155:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.CONNECTION_STATES=Object.freeze({INIT:1,CONNECTING:2,CONNECTED:4,CONNECTION_FAIL:8,RECONNECTING:16,DISCONNECTED:32}),o.XEBRA_VERSION="00.01.07",o.XEBRA_MESSAGES={ADD_NODE:"add_node",ADD_PARAM:"add_param",CHANNEL_MESSAGE:"channel_message",CLIENT_PARAM_CHANGE:"client_param_change",CONNECTION_CHANGE:"connection_change",DELETE_NODE:"delete_node",HANDLE_RESOURCE_DATA:"handle_resource_data",HANDLE_RESOURCE_INFO:"handle_resource_info",INIT_NODE:"init_node",MODIFY_NODE:"modify_node",RESYNC:"resync",SET_UUID:"set_uuid",STATEDUMP:"statedump"}},{}],156:[function(e,t,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function s(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&void 0!==e.find(function(e){return"object"===(void 0===e?"undefined":d(e))}))throw new Error("Xebra can only send a flat array of numbers, strings and booleans to a Max list");return e.map(function(e){return u(e)})}function c(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=u(e[o]));return t}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=void 0;switch(void 0===e?"undefined":d(e)){case"undefined":throw new Error("Cannot convert undefined to a Max type");case"number":if(isNaN(e))throw new Error("Cannot convert NaN to a Max type");o=e;break;case"boolean":o=e?1:0;break;case"string":if(0===e.length)throw new Error("Cannot convert empty string to Max type");o=e;break;case"symbol":throw new Error("Cannot convert symbol to Max type");case"object":if(null===e)throw new Error("Cannot convert null to Max type");o=Array.isArray(e)?s(e,t):c(e);break;default:throw new Error("Could not convert message to Max message")}return o}function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}Object.defineProperty(o,"__esModule",{value:!0});var f,_=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=e("./communicator.js"),h=function(e){return e&&e.__esModule?e:{default:e}}(p),b=e("events"),m=e("./constants.js"),y=(f={},a(f,m.XEBRA_MESSAGES.ADD_NODE,"_addNode"),a(f,m.XEBRA_MESSAGES.ADD_PARAM,"_addParam"),a(f,m.XEBRA_MESSAGES.CHANNEL_MESSAGE,"_channelMessage"),a(f,m.XEBRA_MESSAGES.DELETE_NODE,"_deleteNode"),a(f,m.XEBRA_MESSAGES.HANDLE_RESOURCE_DATA,"_handleResourceData"),a(f,m.XEBRA_MESSAGES.HANDLE_RESOURCE_INFO,"_handleResourceInfo"),a(f,m.XEBRA_MESSAGES.INIT_NODE,"_initNode"),a(f,m.XEBRA_MESSAGES.MODIFY_NODE,"_modifyNode"),a(f,m.XEBRA_MESSAGES.RESYNC,"_resync"),a(f,m.XEBRA_MESSAGES.SET_UUID,"_setXebraUuid"),a(f,m.XEBRA_MESSAGES.STATEDUMP,"_statedump"),f),v=function(e){function t(e){r(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._supportedObjects=e.supported_objects||{},o._uuid=l(),o._xebraUuid=null,o._name=(e.name||"MiraWeb")+"-"+o._uuid.slice(0,6),o._sequenceNumber=0,o._communicator=new h.default(e),o._communicator.on("message",o._dispatchMessage.bind(o)),o._communicator.on("connection_change",o._onConnectionChange.bind(o)),o}return i(t,e),_(t,[{key:"_onConnectionChange",value:function(e){switch(e){case m.CONNECTION_STATES.CONNECTED:this._xebraUuid?this._resync({},!0):this._sendMessage("register",{version:m.XEBRA_VERSION,supported_objects:this._supportedObjects});break;case m.CONNECTION_STATES.RECONNECTING:case m.CONNECTION_STATES.DISCONNECTED:this._xebraUuid=null;break;case m.CONNECTION_STATES.INIT:case m.CONNECTION_STATES.CONNECTING:case m.CONNECTION_STATES.CONNECTION_FAIL:}this.emit(m.XEBRA_MESSAGES.CONNECTION_CHANGE,e)}},{key:"_requestStateDump",value:function(){this._sendMessage(m.XEBRA_MESSAGES.STATEDUMP)}},{key:"_sendMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._communicator.send({message:e,payload:t})}},{key:"_dispatchMessage",value:function(e){Array.isArray(e)?e.forEach(function(e){this._handleMessage(e)}.bind(this)):this._handleMessage(e)}},{key:"_handleMessage",value:function(e){if(e.payload&&e.payload.source===this._xebraUuid)return null;var t=this[y[e.message]];return t?t.bind(this)(e):null}},{key:"_addNode",value:function(e){this._sequenceNumber=e.payload.sequence,this.emit(m.XEBRA_MESSAGES.ADD_NODE,e.payload)}},{key:"_addParam",value:function(e){this._sequenceNumber=e.payload.sequence,this.emit(m.XEBRA_MESSAGES.ADD_PARAM,e.payload)}},{key:"_channelMessage",value:function(e){this.emit(m.XEBRA_MESSAGES.CHANNEL_MESSAGE,e.payload.channel,e.payload.message)}},{key:"_deleteNode",value:function(e){this._sequenceNumber=e.payload.sequence,this.emit(m.XEBRA_MESSAGES.DELETE_NODE,e.payload)}},{key:"_handleResourceData",value:function(e){var t=void 0;try{t=JSON.parse(e.payload.request),e.payload.request=t}catch(t){return console.log("JSON parsing error",t),void console.log(e.payload.request)}this.emit(m.XEBRA_MESSAGES.HANDLE_RESOURCE_DATA,e.payload)}},{key:"_handleResourceInfo",value:function(e){var t=void 0;try{t=JSON.parse(e.payload.request),e.payload.request=t}catch(t){return console.log("JSON parsing error",t),void console.log(e.payload.request)}this.emit(m.XEBRA_MESSAGES.HANDLE_RESOURCE_INFO,e.payload)}},{key:"_initNode",value:function(e){this.emit(m.XEBRA_MESSAGES.INIT_NODE,e.payload)}},{key:"_modifyNode",value:function(e){e.payload.source!==this._xebraUuid&&this.emit(m.XEBRA_MESSAGES.MODIFY_NODE,e.payload)}},{key:"_resync",value:function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e.payload.sequence!==this._sequenceNumber)&&(this.emit(m.XEBRA_MESSAGES.RESYNC),this._requestStateDump()),e&&e.payload&&e.payload.sequence&&(this._sequenceNumber=e.payload.sequence)}},{key:"_setXebraUuid",value:function(e){this._xebraUuid=e.payload.uuid,this.emit(m.XEBRA_MESSAGES.CLIENT_PARAM_CHANGE,"uuid",this._xebraUuid),this._requestStateDump(),this._sendMessage("set_client_params",{xebraUuid:this._xebraUuid,name:this._name,uid:this._uuid})}},{key:"_statedump",value:function(e){this.emit(m.XEBRA_MESSAGES.STATEDUMP,e.payload)}},{key:"connect",value:function(){this._communicator.connect()}},{key:"close",value:function(){this._communicator.close()}},{key:"getResourceData",value:function(e){this._sendMessage("get_resource_data",e)}},{key:"getResourceInfo",value:function(e){this._sendMessage("get_resource_info",e)}},{key:"sendChannelMessage",value:function(e,t){var o=u(t,!0);if(void 0!==o){var r={channel:e,name:this._name,payload:o};this._sendMessage("channel_message",r)}}},{key:"sendModifyMessage",value:function(e){e.source=this._xebraUuid,e.timestamp=Date.now(),this._sendMessage("modify_node",e)}},{key:"connectionState",get:function(){return this._communicator.connectionState}},{key:"name",get:function(){return this._name},set:function(e){this._name=e,null!==this._xebraUuid&&this._sendMessage("set_client_params",{xebraUuid:this._xebraUuid,name:this._name,uid:this._uuid}),this.emit(m.XEBRA_MESSAGES.CLIENT_PARAM_CHANGE,"name",this._name)}},{key:"uuid",get:function(){return this._uuid}},{key:"host",get:function(){return this._communicator.host}},{key:"port",get:function(){return this._communicator.port}},{key:"wsUrl",get:function(){return this._communicator.url}},{key:"xebraUuid",get:function(){return this._xebraUuid}}]),t}(b.EventEmitter);v.XEBRA_MESSAGES=m.XEBRA_MESSAGES,v.CONNECTION_STATES=m.CONNECTION_STATES,v.XEBRA_VERSION=m.XEBRA_VERSION,o.default=v,t.exports=o.default},{"./communicator.js":154,"./constants.js":155,events:142}],157:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":d(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":d(t)));e.prototype=(0,R.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(M.default?(0,M.default)(e,t):e.__proto__=t)}function c(e){return"string"==typeof e||e instanceof String}var u=e("babel-runtime/core-js/symbol/iterator"),l=r(u),f=e("babel-runtime/core-js/symbol"),_=r(f),d="function"==typeof _.default&&"symbol"==typeof l.default?function(e){return typeof e}:function(e){return e&&"function"==typeof _.default&&e.constructor===_.default&&e!==_.default.prototype?"symbol":typeof e},p=e("babel-runtime/core-js/set"),h=n(p),b=e("babel-runtime/core-js/map"),m=n(b),y=e("babel-runtime/core-js/json/stringify"),v=n(y),g=e("babel-runtime/core-js/object/assign"),j=n(g),E=e("babel-runtime/core-js/object/get-prototype-of"),S=n(E),T=e("babel-runtime/core-js/object/values"),O=n(T),w=e("babel-runtime/core-js/array/from"),A=n(w),N=e("babel-runtime/core-js/object/freeze"),x=n(N),I=e("babel-runtime/core-js/object/set-prototype-of"),M=n(I),k=e("babel-runtime/core-js/object/create"),R=n(k),C=e("babel-runtime/core-js/object/keys"),P=n(C),L=e("babel-runtime/core-js/object/define-property"),V=n(L),D=e("babel-runtime/core-js/symbol/iterator"),U=n(D),F=e("babel-runtime/core-js/symbol"),B=n(F);Object.defineProperty(o,"__esModule",{value:!0}),o.VERSION=o.SUPPORTED_OBJECTS=o.CONNECTION_STATES=o.State=void 0;var q="function"==typeof B.default&&"symbol"===d(U.default)?function(e){return void 0===e?"undefined":d(e)}:function(e){return e&&"function"==typeof B.default&&e.constructor===B.default&&e!==B.default.prototype?"symbol":void 0===e?"undefined":d(e)},G=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,V.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),z=e("./lib/constants.js");(0,P.default)(z).forEach(function(e){"default"!==e&&"__esModule"!==e&&(0,V.default)(o,e,{enumerable:!0,get:function(){return z[e]}})});var X=e("./lib/objectList.js"),H=e("./lib/resource.js"),J=e("events"),Y=e("lodash.pick"),W=n(Y),K=e("lodash.uniq"),$=n(K),Z=e("xebra-communicator"),Q=n(Z),ee=e("./nodes/index.js"),te=(0,x.default)({INFO:"info",DATA:"data"}),oe=(0,x.default)((0,A.default)((0,O.default)(X.OBJECTS))),re=function(e){function t(e){i(this,t);var o=a(this,(t.__proto__||(0,S.default)(t)).call(this));o._onConnectionChange=function(e){o.emit("connection_changed",e)},o._onGetResourceInfo=function(e){o._makeResourceRequest(e.objectContext,e,"info")},o._onNodeChange=function(e,t){e.type===X.OBJECTS.MIRA_FRAME&&e.isReady&&o.emit("frame_changed",e,t),e.type===X.OBJECTS.PATCHER&&e.isReady&&o.emit("patcher_changed",e,t),e.isReady&&o.emit("object_changed",e,t)},o._onNodeInitialized=function(e){o.emit("object_added",e)},o._onFrameInitialized=function(e){o.emit("frame_added",e)},o._onPatcherInitialized=function(e){o.emit("patcher_added",e)},o._onModifiyNodeChange=function(e,t){var r=t.value;Array.isArray(r)||(r=[r]),o._communicator.sendModifyMessage({id:t.id,sequence:t.sequence,creation_sequence:t.creationSequence,values:r,types:t.types})},o._addNode=function(e){var t=(0,ee.getInstanceForObjectType)(e.id,e.type,e.sequence,e.parent_id);if(t.type===X.OBJECTS.PATCHER)o._addPatcher(t),t.isReady?o.emit("patcher_added",t):t.once("initialized",o._onPatcherInitialized);else if(e.type===X.OBJECTS.MIRA_FRAME){var r=o._getPatcher(e.parent_id);r.addFrame(t),t.isReady?o.emit("frame_added",t):t.once("initialized",o._onFrameInitialized)}else{var n=o._getPatcher(e.parent_id);n.addObject(t),t.type===X.OBJECTS.MIRA_MOTION&&o._addMotion(t)}o._doInsertNode(t),t.isReady?o.emit("object_added",t):t.once("initialized",o._onNodeInitialized)},o._addParam=function(e){var t=o._state.get(e.parent_id),r=new ee.ParamNode(e.id,e.type,e.sequence);o._state.set(r.id,r),t.addParam(r)},o._channelMessage=function(e,t){o.emit("channel_message_received",e,t)},o._clientParamChange=function(e,t){o.emit("client_param_changed",e,t)},o._deleteNode=function(e){var t=o._state.get(e.id);if(t){var r=o._getPatcher(t.patcherId);t.type===X.OBJECTS.MIRA_FRAME?(r&&r.removeFrame(t.id),t.isReady&&o.emit("frame_removed",t)):t.type===X.OBJECTS.PATCHER?t.isReady&&o.emit("patcher_removed",t):r&&r.removeObject(t.id),t.type===X.OBJECTS.MIRA_MOTION&&o._removeMotion(t),o._destroyNode(t),t.isReady&&o.emit("object_removed",t)}},o._handleResourceData=function(e){if(e.request){var t=e.request.sequence,r=o._resourceRequests.data.sequenceToResource[t];r&&(r.handleData(e),delete o._resourceRequests.data.resourceToSequence[r.id],delete o._resourceRequests.data.sequenceToResource[t])}},o._handleResourceInfo=function(e){if(e.request){var t=e.request.sequence,r=o._resourceRequests.info.sequenceToResource[t];r&&(o._makeResourceRequest(e.request.context,r,"data"),delete o._resourceRequests.info.resourceToSequence[r.id],delete o._resourceRequests.info.sequenceToResource[t])}else console.log("Could not handle badly formatted resource info response",e)},o._modifyNode=function(e){var t=o._state.get(e.id);t&&t.modify(e.values,e.types,e.sequence)},o._statedump=function(e){o._state&&o.emit("reset"),o._resetState();for(var t=0,r=e.messages.length;t<r;t++){var n=e.messages[t];n.message===Q.default.XEBRA_MESSAGES.ADD_NODE?o._addNode(n.payload):n.message===Q.default.XEBRA_MESSAGES.ADD_PARAM?o._addParam(n.payload):n.message===Q.default.XEBRA_MESSAGES.MODIFY_NODE&&o._modifyNode(n.payload,!0)}o._isStateLoaded=!0,o.emit("loaded")};var r=(0,W.default)(e,["auto_connect","hostname","port","secure","reconnect","reconnect_attempts","reconnect_timeout"]);return e.supported_objects||(e.supported_objects=oe),r.supported_objects=(0,j.default)({},X.MANDATORY_OBJECTS),e.supported_objects.forEach(function(e){if(c(e)){var t=X.OBJECT_PARAMETERS[e];if(t)return void(r.supported_objects[e]=t);if(!X.MANDATORY_OBJECTS.hasOwnProperty(e))return void console.log("WARN: Unsupported or unknown object "+e+'. Please use the { name : ""<obj_name>", parameters: ["param_1", "param_2"] } syntax for non built-in objects.')}else if("object"===(void 0===e?"undefined":q(e))){if(!(e.name&&c(e.name)&&e.parameters&&Array.isArray(e.parameters)))return void console.log("WARN: Skipping object defintion '"+(0,v.default)(e)+'\' Please declare objects using their name or the { name : ""<obj_name>", parameters: ["param_1", "param_2"] } syntax.');var o=X.DEFAULT_PARAMS.concat(e.parameters);return o=(0,$.default)(o),void(r.supported_objects[e.name]=o)}console.log("WARN: Skipping object defintion '"+e+'\' Please declare objects using their name or the { name : ""<obj_name>", parameters: ["param_1", "param_2"] } syntax.')}),o._communicator=new Q.default(r),o._communicator.on(Q.default.XEBRA_MESSAGES.CONNECTION_CHANGE,o._onConnectionChange),o._communicator.on(Q.default.XEBRA_MESSAGES.ADD_NODE,o._addNode),o._communicator.on(Q.default.XEBRA_MESSAGES.ADD_PARAM,o._addParam),o._communicator.on(Q.default.XEBRA_MESSAGES.CHANNEL_MESSAGE,o._channelMessage),o._communicator.on(Q.default.XEBRA_MESSAGES.DELETE_NODE,o._deleteNode),o._communicator.on(Q.default.XEBRA_MESSAGES.HANDLE_RESOURCE_DATA,o._handleResourceData),o._communicator.on(Q.default.XEBRA_MESSAGES.HANDLE_RESOURCE_INFO,o._handleResourceInfo),o._communicator.on(Q.default.XEBRA_MESSAGES.INIT_NODE,o._modifyNode),o._communicator.on(Q.default.XEBRA_MESSAGES.MODIFY_NODE,o._modifyNode),o._communicator.on(Q.default.XEBRA_MESSAGES.STATEDUMP,o._statedump),o._communicator.on(Q.default.XEBRA_MESSAGES.CLIENT_param_changed,o._clientParamChange),o._resourceRequests={info:{sequence:0,resourceToSequence:{},sequenceToResource:{}},data:{sequence:0,resourceToSequence:{},sequenceToResource:{}}},o._isStateLoaded=!1,o._rootNode=null,o._state=new m.default,o._patchers=new m.default,o._motionNodes=new m.default,o._resourceController=new H.ResourceController,o._resourceController.on("get_resource_info",o._onGetResourceInfo),o}return s(t,e),G(t,[{key:"_makeResourceRequest",value:function(e,t,o){if(o!==te.INFO&&o!==te.DATA)throw new Error("Resource request domain must be one of: "+te.DATA+", "+te.INFO);if(this._resourceRequests[o].resourceToSequence.hasOwnProperty(t.id)){var r=this._resourceRequests[o].resourceToSequence[t.id];delete this._resourceRequests[o].sequenceToResource[r]}var n=++this._resourceRequests[o].sequence;this._resourceRequests[o].resourceToSequence[t.id]=n,this._resourceRequests[o].sequenceToResource[n]=t;var i={context:e,name:t.filename,width:t.dimensions.width,height:t.dimensions.height,sequence:n,as_png:1};o===te.INFO?this._communicator.getResourceInfo(i):o===te.DATA&&this._communicator.getResourceData(i)}},{key:"_addMotion",value:function(e){this._motionNodes.set(e.id,e),1===this._motionNodes.size&&this.emit("motion_enabled")}},{key:"_getMotion",value:function(e){return this._motionNodes.get(e)||null}},{key:"_removeMotion",value:function(e){this._motionNodes.delete(e.id),0===this._motionNodes.size&&this.emit("motion_disabled")}},{key:"_addPatcher",value:function(e){this._patchers.set(e.id,e)}},{key:"_getPatcher",value:function(e){return this._patchers.get(e)||null}},{key:"_removePatcher",value:function(e){this._patchers.delete(e.id)}},{key:"_doInsertNode",value:function(e){this._state.set(e.id,e),e.on("param_changed",this._onNodeChange),e.on("param_set",this._onModifiyNodeChange),e.resourceController&&e.resourceController.on("get_resource_info",this._onGetResourceInfo)}},{key:"_destroyNode",value:function(e){var t=this;e.destroy(),e.forEachChild(function(e){e instanceof ee.ParamNode&&t._destroyNode(e)},this),this._state.delete(e.id)}},{key:"_resetState",value:function(){this._state&&(this._state.forEach(function(e){e.destroy()}),this._state.clear()),this._isStateLoaded=!1,this._state=new m.default,this._patchers=new m.default,this._motionNodes=new m.default,this.emit("motion_disabled"),this._rootNode=new ee.ObjectNode(0,"root"),this._doInsertNode(this._rootNode)}},{key:"close",value:function(){this._communicator.close(),this._resetState()}},{key:"connect",value:function(){this._communicator.connect()}},{key:"createResource",value:function(){return this._resourceController.createResource()}},{key:"sendMessageToChannel",value:function(e,t){this._communicator.sendChannelMessage(e,t)}},{key:"sendMotionData",value:function(e,t,o,r,n){var i=this.xebraUuid;if(i){
if(!this.isMotionEnabled)throw new Error("Can't send motion data when motion is disabled");this._rootNode.setParamValue(e,[i,i,t,o,r,n])}}},{key:"getChannelNames",value:function(){var e=new h.default;return this._patchers.forEach(function(t){t.getChannelNames().forEach(function(t){e.add(t)})}),(0,A.default)(e)}},{key:"getPatchers",value:function(){return(0,A.default)(this._patchers.values())}},{key:"getObjectsByScriptingName",value:function(e){var t=[];return this._patchers.forEach(function(o,r){var n=o.getObjectByScriptingName(e);n&&t.push(n)}),t}},{key:"getObjectById",value:function(e){var t=this._state.get(e);return t&&t instanceof ee.ObjectNode?t:null}},{key:"getPatcherById",value:function(e){return this._patchers.get(e)||null}},{key:"isMotionEnabled",get:function(){return this._motionNodes.size>0}},{key:"connectionState",get:function(){return this._communicator.connectionState}},{key:"name",get:function(){return this._communicator.name},set:function(e){this._communicator.name=e}},{key:"hostname",get:function(){return this._communicator.host}},{key:"isStateLoaded",get:function(){return this._isStateLoaded}},{key:"port",get:function(){return this._communicator.port}},{key:"wsUrl",get:function(){return this._communicator.wsUrl}},{key:"uuid",get:function(){return this._communicator.uuid}},{key:"xebraUuid",get:function(){return this._communicator.xebraUuid}}]),t}(J.EventEmitter);o.State=re;var ne=Q.default.CONNECTION_STATES,ie=Q.default.XEBRA_VERSION;o.CONNECTION_STATES=ne,o.SUPPORTED_OBJECTS=oe,o.VERSION=ie},{"./lib/constants.js":158,"./lib/objectList.js":159,"./lib/resource.js":160,"./nodes/index.js":163,"babel-runtime/core-js/array/from":1,"babel-runtime/core-js/json/stringify":4,"babel-runtime/core-js/map":5,"babel-runtime/core-js/object/assign":6,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/freeze":9,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/keys":12,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/object/values":14,"babel-runtime/core-js/set":15,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17,events:142,"lodash.pick":144,"lodash.uniq":145,"xebra-communicator":156}],158:[function(e,t,o){"use strict";var r=e("babel-runtime/core-js/object/freeze"),n=function(e){return e&&e.__esModule?e:{default:e}}(r);Object.defineProperty(o,"__esModule",{value:!0});var i=(0,n.default)({ROTATIONRATE:"rotationrate",GRAVITY:"gravity",ACCEL:"accel",ORIENTATION:"orientation",RAWACCEL:"rawaccel"}),a=(0,n.default)({LIVE_UNIT_INT:"Int",LIVE_UNIT_FLOAT:"Float",LIVE_UNIT_TIME:"Time",LIVE_UNIT_HZ:"Hertz",LIVE_UNIT_DB:"deciBel",LIVE_UNIT_PERCENT:"%",LIVE_UNIT_PAN:"Pan",LIVE_UNIT_SEMITONES:"Semitones",LIVE_UNIT_MIDI:"MIDI",LIVE_UNIT_CUSTOM:"Custom",LIVE_UNIT_NATIVE:"Native"}),s=(0,n.default)({FLOAT:"Float",ENUM:"Enum",INT:"Int (0-255)"}),c=(0,n.default)({LINKED:1,PRESENTATION:2,PATCHING:4});o.EMPTY_RESOURCE="<none>",o.LIVE_UNIT_STYLES=a,o.LIVE_VALUE_TYPES=s,o.MOTION_TYPES=i,o.VIEW_MODES=c},{"babel-runtime/core-js/object/freeze":9}],159:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,o){return t in e?(0,l.default)(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var i=e("babel-runtime/core-js/object/values"),a=r(i),s=e("babel-runtime/core-js/object/freeze"),c=r(s),u=e("babel-runtime/core-js/object/define-property"),l=r(u);Object.defineProperty(o,"__esModule",{value:!0});var f,_,d,p=o.PARAMETER_ATTR=(0,c.default)({CUSTOM_UNITS:"_parameter_units",EXPONENT:"_parameter_exponent",LONGNAME:"_parameter_longname",RANGE:"_parameter_range",SHORTNAME:"_parameter_shortname",STEPS:"_parameter_steps",TYPE:"_parameter_type",UNIT_STYLE:"_parameter_unitstyle"}),h=o.OBJECTS=(0,c.default)({BUTTON:"button",COMMENT:"comment",DIAL:"dial",FLONUM:"flonum",FPIC:"fpic",GAIN:"gain~",KSLIDER:"kslider",LIVE_BUTTON:"live.button",LIVE_DIAL:"live.dial",LIVE_GRID:"live.grid",LIVE_NUMBOX:"live.numbox",LIVE_SLIDER:"live.slider",LIVE_TAB:"live.tab",LIVE_TEXT:"live.text",LIVE_TOGGLE:"live.toggle",MESSAGE:"message",METER:"meter~",MIRA_CHANNEL:"mira.channel",MIRA_FRAME:"mira.frame",MIRA_MOTION:"mira.motion",MIRA_MULTITOUCH:"mira.multitouch",MULTISLIDER:"multislider",NUMBER:"number",PATCHER:"jpatcher",PATCHERVIEW:"patcherview",PANEL:"panel",RSLIDER:"rslider",SLIDER:"slider",SWATCH:"swatch",TOGGLE:"toggle",UMENU:"umenu"}),b=(o.MANDATORY_OBJECTS=(0,c.default)((f={},n(f,h.PATCHER,["editing_bgcolor","locked_bgcolor","openinpresentation"]),n(f,h.PATCHERVIEW,["name","presentation","locked"]),n(f,h.MIRA_CHANNEL,["name"]),n(f,h.MIRA_FRAME,["color","mira_focus","patching_rect","presentation_rect","presentation","tabname","taborder"]),n(f,h.MIRA_MOTION,[]),f)),o.DEFAULT_PARAMS=["patching_rect","presentation_rect","zorder","presentation","hidden","ignoreclick","varname"]);o.OBJECT_PARAMETERS=(0,c.default)((_={},n(_,h.BUTTON,b.concat(["bgcolor","blinkcolor","outlinecolor","value"])),n(_,h.COMMENT,b.concat(["textfield","fontsize","textjustification","fontname","fontface","bgcolor","textcolor","bubble","bubblepoint","bubbleside","bubbletextmargin"])),n(_,h.DIAL,b.concat(["distance","floatoutput","mode","size","min","mult","degrees","thickness","bgcolor","needlecolor","outlinecolor","vtracking"])),n(_,h.FLONUM,b.concat(["value","fontsize","fontname","fontface","format","bgcolor","textcolor","tricolor","triscale","numdecimalplaces","htricolor","minimum","maximum"])),n(_,h.FPIC,b.concat(["alpha","destrect","autofit","xoffset","yoffset","pic"])),n(_,h.GAIN,b.concat(["value","size","orientation","bgcolor","stripecolor","knobcolor","distance"])),n(_,h.KSLIDER,b.concat(["value","blackkeycolor","hkeycolor","mode","offset","range","selectioncolor","whitekeycolor","rawsend"])),n(_,h.LIVE_BUTTON,b.concat([p.LONGNAME,p.SHORTNAME,p.RANGE],["active","bgcolor","bgoncolor","activebgcolor","activebgoncolor","bordercolor","focusbordercolor","value"])),n(_,h.LIVE_DIAL,b.concat((0,a.default)(p),["fontname","fontsize","fontface","active","activedialcolor","activeneedlecolor","appearance","bordercolor","dialcolor","focusbordercolor","needlecolor","panelcolor","showname","shownumber","textcolor","triangle","tribordercolor","tricolor","distance","value"])),n(_,h.LIVE_GRID,b.concat(["amountcolor","bgstepcolor","bgstepcolor2","bordercolor","bordercolor2","columns","direction","direction_height","directioncolor","displayamount","freezecolor","hbgcolor","link","marker_horizontal","marker_vertical","matrixmode","mode","rounded","rows","spacing","stepcolor","distance","touchy","directions","setcell","currentstep","constraint"])),n(_,h.LIVE_NUMBOX,b.concat((0,a.default)(p),["activebgcolor","active","activeslidercolor","activetricolor","activetricolor2","appearance","bordercolor","focusbordercolor","textcolor","tricolor","tricolor2","value","fontname","fontface","fontsize"])),n(_,h.LIVE_SLIDER,b.concat((0,a.default)(p),["fontname","fontsize","fontface","orientation","relative","showname","shownumber","slidercolor","textcolor","tribordercolor","trioncolor","tricolor","value","distance"])),n(_,h.LIVE_TAB,b.concat([p.LONGNAME,p.SHORTNAME,p.RANGE],["active","activebgcolor","activebgoncolor","bgcolor","bgoncolor","blinktime","bordercolor","button","focusbordercolor","inactivetextoffcolor","inactivetextoncolor","mode","multiline","num_lines_patching","num_lines_presentation","pictures","rounded","spacing_x","spacing_y","textcolor","textoncolor","fontname","fontsize","fontface","value","usepicture"])),n(_,h.LIVE_TEXT,b.concat([p.LONGNAME,p.SHORTNAME,p.RANGE],["activebgcolor","active","bgcolor","activebgoncolor","bgoncolor","bordercolor","textcolor","activetextoncolor","activetextcolor","text","texton","value","fontsize","fontname","fontface","pictures","usepicture","mode"])),n(_,h.LIVE_TOGGLE,b.concat([p.LONGNAME,p.SHORTNAME,p.RANGE],["bgcolor","activebgcolor","bgoncolor","activebgoncolor","bordercolor","focusbordercolor","value","rounded","active"])),n(_,h.MESSAGE,b.concat(["textfield","fontsize","textjustification","fontname","fontface","bgcolor","bgfillcolor_color","bgfillcolor_type","bgfillcolor_pt1","bgfillcolor_pt2","bgfillcolor_color1","bgfillcolor_color2","bgfillcolor_color","bgfillcolor_proportion","bgfillcolor_angle","textcolor","value"])),n(_,h.METER,b.concat(["bgcolor","offcolor","ntepidleds","nwarmleds","nhotleds","numleds","dbperled","coldcolor","tepidcolor","warmcolor","hotcolor","overloadcolor","level"])),n(_,h.MIRA_MULTITOUCH,b.concat(["color","hsegments","vsegments","region","pinch","pinch_enabled","rotate","rotate_enabled","tap","tap_enabled","tap_touch_count","tap_tap_count","swipe","swipe_enabled","swipe_touch_count","remote_gestures","remote_circles","moved_touch","up_down_cancelled_touch"])),n(_,h.MULTISLIDER,b.concat(["distance","ghostbar","setstyle","candycane","size","setminmax","orientation","thickness","bgcolor","slidercolor","candicane2","candicane3","candicane4","candicane5","candicane6","candicane7","candicane8","peakcolor","drawpeaks","signed","spacing","settype"])),n(_,h.NUMBER,b.concat(["value","fontsize","fontname","fontface","format","bgcolor","textcolor","tricolor","triscale","numdecimalplaces","htricolor","minimum","maximum"])),n(_,h.PANEL,b.concat(["bgcolor","bgfillcolor_color","bgfillcolor_type","bgfillcolor_pt1","bgfillcolor_pt2","bgfillcolor_color1","bgfillcolor_color2","bgfillcolor_color","bgfillcolor_proportion","bgfillcolor_angle","bordercolor","border","rounded","shape","horizontal_direction","vertical_direction","arrow_orientation"])),n(_,h.RSLIDER,b.concat(["distance","size","min","mult","orientation","drawline","bgcolor","bordercolor","fgcolor"])),n(_,h.SLIDER,b.concat(["bgcolor","distance","elementcolor","floatoutput","knobcolor","knobshape","min","mult","orientation","relative","size","thickness"])),n(_,h.SWATCH,b.concat(["distance","value","compatibility","saturation"])),n(_,h.TOGGLE,b.concat(["bgcolor","checkedcolor","uncheckedcolor","thickness","value"])),n(_,h.UMENU,b.concat(["arrow","applycolors","bgcolor","bgfillcolor_type","bgfillcolor_color1","bgfillcolor_color2","bgfillcolor_pt1","bgfillcolor_pt2","bgfillcolor_color","bgfillcolor_proportion","bgfillcolor_angle","color","elementcolor","fontname","fontsize","fontface","items","menumode","textcolor","textjustification","truncate","underline","value"])),_)),o.OPTIONAL_OBJECT_PARAMETERS=(0,c.default)((d={},n(d,h.LIVE_TAB,["pictures"]),n(d,h.LIVE_DIAL,["tribordercolor"]),n(d,h.MESSAGE,["bgfillcolor_angle","bgfillcolor_proportion"]),n(d,h.PANEL,["bgfillcolor_angle","bgfillcolor_proportion"]),n(d,h.UMENU,["bgfillcolor_angle","bgfillcolor_proportion"]),d))},{"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/freeze":9,"babel-runtime/core-js/object/values":14}],160:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":_(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":_(t)));e.prototype=(0,b.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(p.default?(0,p.default)(e,t):e.__proto__=t)}var c=e("babel-runtime/core-js/symbol/iterator"),u=r(c),l=e("babel-runtime/core-js/symbol"),f=r(l),_="function"==typeof f.default&&"symbol"==typeof u.default?function(e){return typeof e}:function(e){return e&&"function"==typeof f.default&&e.constructor===f.default&&e!==f.default.prototype?"symbol":typeof e},d=e("babel-runtime/core-js/object/set-prototype-of"),p=n(d),h=e("babel-runtime/core-js/object/create"),b=n(h),m=e("babel-runtime/core-js/object/get-prototype-of"),y=n(m),v=e("babel-runtime/core-js/object/get-own-property-descriptor"),g=n(v),j=e("babel-runtime/core-js/object/define-property"),E=n(j);Object.defineProperty(o,"__esModule",{value:!0}),o.ResourceController=void 0;var S=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,E.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),T=function e(t,o,r){null===t&&(t=Function.prototype);var n=(0,g.default)(t,o);if(void 0===n){var i=(0,y.default)(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(r)},O=e("events"),w=e("path"),A=e("./constants.js"),N=0,x=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i(this,t);var o=a(this,(t.__proto__||(0,y.default)(t)).call(this));return o._id=++N,o._width=1,o._height=1,o._filename=A.EMPTY_RESOURCE,o._objectContext=e,o}return s(t,e),S(t,[{key:"on",value:function(e,o){T(t.prototype.__proto__||(0,y.default)(t.prototype),"on",this).call(this,e,o),"data_received"===e&&this._doFetch()}},{key:"clear",value:function(){this._width=1,this._height=1,this._filename=A.EMPTY_RESOURCE,this.emit("clear")}},{key:"destroy",value:function(){this.emit("destroy"),this.removeAllListeners()}},{key:"_doFetch",value:function(){this.emit("needs_data",this)}},{key:"handleData",value:function(e){var t=(0,w.extname)(e.request.name);t.length&&"."===t[0]&&(t=t.substr(1)),"svg"===t&&(t="png");var o="data:image/"+t+";base64,"+e.data;this.emit("data_received",e.request.name,o)}},{key:"id",get:function(){return this._id}},{key:"filename",get:function(){return this._filename},set:function(e){this._filename=e,this._doFetch()}},{key:"objectContext",get:function(){return this._objectContext}},{key:"isEmpty",get:function(){return this.filename===A.EMPTY_RESOURCE}},{key:"isSVG",get:function(){return!!this._filename&&".svg"===(0,w.extname)(this._filename)}},{key:"dimensions",get:function(){return{width:this._width,height:this._height}},set:function(e){this._width===e.width&&this._height===e.height||(this._width=e.width,this._height=e.height,this.isSVG&&this._doFetch())}}]),t}(O.EventEmitter);o.default=x;var I=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||(0,y.default)(t)).call(this));return e._fetchResourceData=function(t){e.emit("get_resource_info",t)},e}return s(t,e),S(t,[{key:"createResource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new x(e);return t.on("needs_data",this._fetchResourceData),t}}]),t}(O.EventEmitter);o.ResourceController=I},{"./constants.js":158,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/get-own-property-descriptor":10,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17,events:142,path:18}],161:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":_(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":_(t)));e.prototype=(0,T.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(E.default?(0,E.default)(e,t):e.__proto__=t)}var c=e("babel-runtime/core-js/symbol/iterator"),u=r(c),l=e("babel-runtime/core-js/symbol"),f=r(l),_="function"==typeof f.default&&"symbol"==typeof u.default?function(e){return typeof e}:function(e){return e&&"function"==typeof f.default&&e.constructor===f.default&&e!==f.default.prototype?"symbol":typeof e},d=e("babel-runtime/core-js/object/freeze"),p=n(d),h=e("babel-runtime/core-js/array/from"),b=n(h),m=e("babel-runtime/core-js/map"),y=n(m),v=e("babel-runtime/core-js/object/get-prototype-of"),g=n(v),j=e("babel-runtime/core-js/object/set-prototype-of"),E=n(j),S=e("babel-runtime/core-js/object/create"),T=n(S),O=e("babel-runtime/core-js/object/define-property"),w=n(O);Object.defineProperty(o,"__esModule",{value:!0});var A=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,w.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),N=e("events"),x=e("../lib/objectList.js"),I=function(e){function t(e,o,r){i(this,t);var n=a(this,(t.__proto__||(0,g.default)(t)).call(this));return n._id=e,n._type=o,n._creationSeq=r,n._children=new y.default,n._paramsNameLookup=new y.default,n}return s(t,e),A(t,[{key:"destroy",value:function(){this.emit("destroy",this),this.removeAllListeners()}},{key:"_getParamForType",value:function(e){var t=this._paramsNameLookup.get(e);return this.getChild(t)}},{key:"_onParamChange",value:function(){throw new Error("Missing subclass implementation for _onParamChange")}},{key:"_onParamSet",value:function(){throw new Error("Missing subclass implementation for _onParamSet")}},{key:"addChild",value:function(e,t){this._children.set(e,t)}},{key:"forEachChild",value:function(e,t){this._children.forEach(e,t)}},{key:"getChild",value:function(e){return this._children.get(e)||null}},{key:"getChildren",value:function(){return(0,b.default)(this._children.values())}},{key:"hasChild",value:function(e){return this._children.has(e)}},{key:"removeChild",value:function(e){var t=this.getChild(e);return t&&this._children.delete(e),t}},{key:"addParam",value:function(e){this._paramsNameLookup.set(e.type,e.id),e.on("change",this._onParamChange),e.on("set",this._onParamSet),this.addChild(e.id,e)}},{key:"getParamTypes",value:function(){return x.OBJECT_PARAMETERS.hasOwnProperty(this.type)?(0,p.default)(x.OBJECT_PARAMETERS[this.type]||[]):(0,p.default)(x.MANDATORY_OBJECTS[this.type]||[])}},{key:"getOptionalParamTypes",value:function(){return(0,p.default)(x.OPTIONAL_OBJECT_PARAMETERS[this.type]||[])}},{key:"getParamValue",value:function(e){var t=this._getParamForType(e);return t?t.value:null}},{key:"setParamValue",value:function(e,t){var o=this._getParamForType(e);o&&(o.value=t)}},{key:"creationSequence",get:function(){return this._creationSeq}},{key:"id",get:function(){return this._id}},{key:"isReady",get:function(){return!0}},{key:"type",get:function(){return this._type}}]),t}(N.EventEmitter);o.default=I,t.exports=o.default},{"../lib/objectList.js":159,"babel-runtime/core-js/array/from":1,"babel-runtime/core-js/map":5,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/freeze":9,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17,events:142}],162:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":_(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":_(t)));e.prototype=(0,g.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(y.default?(0,y.default)(e,t):e.__proto__=t)}var c=e("babel-runtime/core-js/symbol/iterator"),u=r(c),l=e("babel-runtime/core-js/symbol"),f=r(l),_="function"==typeof f.default&&"symbol"==typeof u.default?function(e){return typeof e}:function(e){return e&&"function"==typeof f.default&&e.constructor===f.default&&e!==f.default.prototype?"symbol":typeof e},d=e("babel-runtime/core-js/set"),p=n(d),h=e("babel-runtime/core-js/object/get-prototype-of"),b=n(h),m=e("babel-runtime/core-js/object/set-prototype-of"),y=n(m),v=e("babel-runtime/core-js/object/create"),g=n(v),j=e("babel-runtime/core-js/object/define-property"),E=n(j);Object.defineProperty(o,"__esModule",{value:!0});var S=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,E.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),T=e("../lib/constants.js"),O=e("./objectNode.js"),w=n(O),A=function(e){function t(e,o,r,n){i(this,t);var s=a(this,(t.__proto__||(0,b.default)(t)).call(this,e,o,r,n));return s._onObjectInitialized=function(e){s.emit("object_added",e)},s._onObjectChange=function(e,t){s.getChild(e.id)&&s.emit("object_changed",e,t)},s._onObjectDestroy=function(e){s.removeObject(e.id)},s._objects=new p.default,s._viewMode=T.VIEW_MODES.LINKED,s._patcherViewMode=T.VIEW_MODES.PATCHING,s}return s(t,e),S(t,[{key:"addObject",value:function(e){this._objects.add(e.id),this.addChild(e.id,e),e.on("param_changed",this._onObjectChange),e.on("destroy",this._onObjectDestroy),e.isReady?this.emit("object_added",e):e.once("initialized",this._onObjectInitialized)}},{key:"containsObject",value:function(e){return this.hasChild(e)}},{key:"containsRect",value:function(e){var t=this.viewMode===T.VIEW_MODES.PATCHING?this.getParamValue("patching_rect"):this.getParamValue("presentation_rect");return!!t&&(e[0]<t[0]+t[2]&&e[0]+e[2]>=t[0]&&e[1]<t[1]+t[3]&&e[1]+e[3]>=t[1])}},{key:"getObject",value:function(e){return this.getChild(e)}},{key:"getObjects",value:function(){var e=this,t=[];return this._objects.forEach(function(o){t.push(e.getChild(o))},this),t}},{key:"getRelativeRect",value:function(e){if(!this.containsObject(e.id))return null;var t=this.viewMode,o=e.getParamValue(t===T.VIEW_MODES.PATCHING?"patching_rect":"presentation_rect"),r=this.getParamValue(t===T.VIEW_MODES.PATCHING?"patching_rect":"presentation_rect");return[o[0]-r[0],o[1]-r[1],o[2],o[3]]}},{key:"isViewModeLinked",value:function(){return this._viewMode===T.VIEW_MODES.LINKED}},{key:"removeObject",value:function(e){var t=this.removeChild(e);t&&(this._objects.delete(e),t.removeListener("param_changed",this._onObjectChange),t.removeListener("destroy",this._onObjectDestroy),t.removeListener("initialized",this._onObjectInitialized),t.isReady&&this.emit("object_removed",t))}},{key:"viewMode",get:function(){return this._viewMode===T.VIEW_MODES.LINKED?this._patcherViewMode:this._viewMode},set:function(e){this._viewMode=e,this.emit("viewmode_change",this,e)}},{key:"patcherViewMode",get:function(){return this._patcherViewMode},set:function(e){this._patcherViewMode=e,this.isViewModeLinked()&&this.emit("viewmode_change",this,e)}}]),t}(w.default);o.default=A,t.exports=o.default},{"../lib/constants.js":158,"./objectNode.js":166,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/set":15,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17}],163:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t,o,r){if(t===i.OBJECTS.PATCHER)return new u.default(e,t,o,r);if(t===i.OBJECTS.MIRA_FRAME)return new s.default(e,t,o,r);var n=f.default;return E.indexOf(t)>-1&&(n=(0,v.default)(n)),j.indexOf(t)>-1&&(n=(0,m.default)(n)),g.indexOf(t)>-1&&(n=(0,h.default)(n)),new n(e,t,o,r)}Object.defineProperty(o,"__esModule",{value:!0}),o.ParamNode=o.ObjectNode=o.PatcherNode=o.FrameNode=o.getInstanceForObjectType=void 0;var i=e("../lib/objectList.js"),a=e("./frame.js"),s=r(a),c=e("./patcher.js"),u=r(c),l=e("./objectNode.js"),f=r(l),_=e("./paramNode.js"),d=r(_),p=e("./liveDisplayValueMixin.js"),h=r(p),b=e("./liveScalingObjectMixin.js"),m=r(b),y=e("./resourceObjectMixin.js"),v=r(y),g=[i.OBJECTS.LIVE_DIAL,i.OBJECTS.LIVE_NUMBOX,i.OBJECTS.LIVE_SLIDER],j=[i.OBJECTS.LIVE_DIAL,i.OBJECTS.LIVE_NUMBOX,i.OBJECTS.LIVE_SLIDER],E=[i.OBJECTS.FPIC,i.OBJECTS.LIVE_TAB,i.OBJECTS.LIVE_TEXT];o.getInstanceForObjectType=n,o.FrameNode=s.default,o.PatcherNode=u.default,o.ObjectNode=f.default,o.ParamNode=d.default},{"../lib/objectList.js":159,"./frame.js":162,"./liveDisplayValueMixin.js":164,"./liveScalingObjectMixin.js":165,"./objectNode.js":166,"./paramNode.js":167,"./patcher.js":168,"./resourceObjectMixin.js":169}],164:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":d(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":d(t)));e.prototype=(0,m.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(h.default?(0,h.default)(e,t):e.__proto__=t)}function c(e,t,o,r){if(void 0===e||void 0===t)return"";var n=null;switch(t){case w.LIVE_UNIT_STYLES.LIVE_UNIT_INT:n=""+Math.round(e);break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_FLOAT:n=e.toFixed(2);break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_TIME:n=e>=1e4?(e/1e3).toFixed(1)+" s":e>=1e3?(e/1e3).toFixed(2)+" s":e>=100?Math.round(e)+" ms":e>=10?e.toFixed(1)+" ms":e.toFixed(2)+" ms";break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_HZ:n=e>=1e4?(e/1e3).toFixed(1)+" kHz":e>=1e3?(e/1e3).toFixed(2)+" kHz":e>=100?Math.round(e)+" Hz":e>=10?e.toFixed(1)+" Hz":e.toFixed(2)+" Hz";break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_DB:n=Math.abs(e)>=10?Math.round(e)+" dB":e.toFixed(1)+" dB";break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_PERCENT:n=Math.abs(e)>=100||o===w.LIVE_VALUE_TYPES.INT?Math.round(e)+" %":Math.abs(e)>=10?e.toFixed(1)+" %":e.toFixed(2)+" %";break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_PAN:n=0===e?"C":e>0?Math.round(e)+"R":Math.round(e)+"L";break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_SEMITONES:var i=Math.round(e);n=0===i?"0 st":i>0?"+"+i+" st":i+" st";break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_MIDI:var a=Math.round(e),s=Math.floor(a/12);n=""+["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][a-12*s]+(s-2),a>127&&(n="+"),a<0&&(n="-");break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_CUSTOM:if(r.indexOf("%")>=0)try{n=(0,N.sprintf)(r,e)}catch(e){n=r}else n=(o===w.LIVE_VALUE_TYPES.INT?Math.round(e):e.toFixed(2))+" "+r;break;case w.LIVE_UNIT_STYLES.LIVE_UNIT_NATIVE:n=o===w.LIVE_VALUE_TYPES.INT?Math.round(e):e.toFixed(2);break;default:n=""}return n}var u=e("babel-runtime/core-js/symbol/iterator"),l=r(u),f=e("babel-runtime/core-js/symbol"),_=r(f),d="function"==typeof _.default&&"symbol"==typeof l.default?function(e){return typeof e}:function(e){return e&&"function"==typeof _.default&&e.constructor===_.default&&e!==_.default.prototype?"symbol":typeof e},p=e("babel-runtime/core-js/object/set-prototype-of"),h=n(p),b=e("babel-runtime/core-js/object/create"),m=n(b),y=e("babel-runtime/core-js/object/get-prototype-of"),v=n(y),g=e("babel-runtime/core-js/object/get-own-property-descriptor"),j=n(g),E=e("babel-runtime/core-js/object/define-property"),S=n(E);Object.defineProperty(o,"__esModule",{value:!0});var T=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,S.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),O=function e(t,o,r){null===t&&(t=Function.prototype);var n=(0,j.default)(t,o);if(void 0===n){var i=(0,v.default)(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(r)},w=e("../lib/constants.js"),A=e("../lib/objectList.js"),N=e("sprintf-js");o.default=function(e){return function(e){function t(){return i(this,t),a(this,(t.__proto__||(0,v.default)(t)).apply(this,arguments))}return s(t,e),T(t,[{key:"getParamValue",value:function(e){if("displayvalue"===e){var o=this.getParamValue(A.PARAMETER_ATTR.TYPE),r=this.getParamValue("value");if(o===w.LIVE_VALUE_TYPES.ENUM){var n=this.getParamValue(A.PARAMETER_ATTR.RANGE),i=Math.round(r);return n.length?i<=0?n[0]:i>=n.length?n[n.length-1]:n[i]:""}return c(r,this.getParamValue(A.PARAMETER_ATTR.UNIT_STYLE),o,this.getParamValue(A.PARAMETER_ATTR.CUSTOM_UNITS))}return O(t.prototype.__proto__||(0,v.default)(t.prototype),"getParamValue",this).call(this,e)}},{key:"getParamTypes",value:function(){return O(t.prototype.__proto__||(0,v.default)(t.prototype),"getParamTypes",this).call(this).concat("displayvalue")}},{key:"getOptionalParamTypes",value:function(){return O(t.prototype.__proto__||(0,v.default)(t.prototype),"getOptionalParamTypes",this).call(this).concat("displayvalue")}}]),t}(e)},t.exports=o.default},{"../lib/constants.js":158,"../lib/objectList.js":159,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/get-own-property-descriptor":10,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17,"sprintf-js":151}],165:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":p(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":p(t)));e.prototype=(0,y.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(b.default?(0,b.default)(e,t):e.__proto__=t)}function c(e,t,o){return e<o?e>t?e:t:o}function u(e,t,o,r){var n=t-e,i=n/r;return Math.floor(o/i)*i}var l=e("babel-runtime/core-js/symbol/iterator"),f=r(l),_=e("babel-runtime/core-js/symbol"),d=r(_),p="function"==typeof d.default&&"symbol"==typeof f.default?function(e){return typeof e}:function(e){return e&&"function"==typeof d.default&&e.constructor===d.default&&e!==d.default.prototype?"symbol":typeof e},h=e("babel-runtime/core-js/object/set-prototype-of"),b=n(h),m=e("babel-runtime/core-js/object/create"),y=n(m),v=e("babel-runtime/core-js/object/get-prototype-of"),g=n(v),j=e("babel-runtime/core-js/object/get-own-property-descriptor"),E=n(j),S=e("babel-runtime/core-js/object/define-property"),T=n(S),O=e("babel-runtime/core-js/is-iterable"),w=n(O),A=e("babel-runtime/core-js/get-iterator"),N=n(A);Object.defineProperty(o,"__esModule",{value:!0});var x=function(){function e(e,t){var o=[],r=!0,n=!1,i=void 0;try{for(var a,s=(0,N.default)(e);!(r=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return o}return function(t,o){if(Array.isArray(t))return t;if((0,w.default)(Object(t)))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,T.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),M=function e(t,o,r){null===t&&(t=Function.prototype);var n=(0,E.default)(t,o);if(void 0===n){var i=(0,g.default)(t);return null===i?void 0:e(i,o,r)}
if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(r)},k=e("../lib/constants.js"),R=e("../lib/objectList.js");o.default=function(e){return function(e){function t(e,o,r,n){i(this,t);var s=a(this,(t.__proto__||(0,g.default)(t)).apply(this,arguments));return s._ignoredValueSeq=0,s}return s(t,e),I(t,[{key:"setParamValue",value:function(e,o){if("distance"===e){var r=this._getParamForType(e);if(!r)return;var n=c(o,0,1),i=this.getParamValue(R.PARAMETER_ATTR.TYPE),a=this.getParamValue(R.PARAMETER_ATTR.STEPS),s=this.getParamValue(R.PARAMETER_ATTR.RANGE),l=x(s,2),f=l[0],_=l[1];i===k.LIVE_VALUE_TYPES.ENUM?(f=0,_=this.getParamValue(R.PARAMETER_ATTR.RANGE).length-1,n=u(0,1,n,_)):a>1?n=u(0,1,n,a-1):i===k.LIVE_VALUE_TYPES.INT&&(n=u(0,1,n,_-f)),r.value=n;var d=this._getParamForType("value");if(!d)return;var p=n,h=this.getParamValue(R.PARAMETER_ATTR.EXPONENT)||1;1!==h&&(p=Math.pow(p,h));var b=p*(_-f)+f;i!==k.LIVE_VALUE_TYPES.FLOAT&&(b=Math.round(b)),d.modify(b,d.types,d.remoteSequence+1)}else{if("value"!==e||this.type!==R.OBJECTS.LIVE_NUMBOX)return void M(t.prototype.__proto__||(0,g.default)(t.prototype),"setParamValue",this).call(this,e,o);var m=this.getParamValue(R.PARAMETER_ATTR.TYPE),y=this.getParamValue(R.PARAMETER_ATTR.STEPS),v=m===k.LIVE_VALUE_TYPES.ENUM?[0,this.getParamValue(R.PARAMETER_ATTR.RANGE).length-1]:this.getParamValue(R.PARAMETER_ATTR.RANGE),j=x(v,2),E=j[0],S=j[1],T=c(o,E,S);T=m===k.LIVE_VALUE_TYPES.ENUM?u(E,S,T,S):y>1?u(E,S,T,y-1):Math.round(T);var O=this._getParamForType(e);O&&(O.value=T)}}}]),t}(e)},t.exports=o.default},{"../lib/constants.js":158,"../lib/objectList.js":159,"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/is-iterable":3,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/get-own-property-descriptor":10,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17}],166:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":_(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":_(t)));e.prototype=(0,y.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(b.default?(0,b.default)(e,t):e.__proto__=t)}var c=e("babel-runtime/core-js/symbol/iterator"),u=r(c),l=e("babel-runtime/core-js/symbol"),f=r(l),_="function"==typeof f.default&&"symbol"==typeof u.default?function(e){return typeof e}:function(e){return e&&"function"==typeof f.default&&e.constructor===f.default&&e!==f.default.prototype?"symbol":typeof e},d=e("babel-runtime/core-js/object/get-prototype-of"),p=n(d),h=e("babel-runtime/core-js/object/set-prototype-of"),b=n(h),m=e("babel-runtime/core-js/object/create"),y=n(m),v=e("babel-runtime/core-js/object/define-property"),g=n(v);Object.defineProperty(o,"__esModule",{value:!0});var j=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,g.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),E=e("./base.js"),S=n(E),T=function(e){function t(e,o,r,n){i(this,t);var s=a(this,(t.__proto__||(0,p.default)(t)).call(this,e,o,r));return O.call(s),s._patcherId=n,s._isReady=!1,s}return s(t,e),j(t,[{key:"isReady",get:function(){return this._isReady}},{key:"patcherId",get:function(){return this._patcherId}}]),t}(S.default),O=function(){var e=this;this._onParamChange=function(t){if(e._isReady)e.emit("param_changed",e,t);else{for(var o=e.getParamTypes(),r=e.getOptionalParamTypes(),n=!0,i=0;i<o.length;i++){var a=o[i],s=e.getParamValue(a);if((null===s||void 0===s)&&-1===r.indexOf(a)){n=!1;break}}n&&(e._isReady=!0,e.emit("initialized",e))}},this._onParamSet=function(t){e.emit("param_set",e,t),e.emit("param_changed",e,t)}};o.default=T,t.exports=o.default},{"./base.js":161,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17}],167:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":p(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":p(t)));e.prototype=(0,g.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(y.default?(0,y.default)(e,t):e.__proto__=t)}function c(e,t){return t&&(t.constructor!==Array||t.length)||!w.hasOwnProperty(e)?t:w[e]}function u(e){return A.hasOwnProperty(e)?A[e]:null}var l=e("babel-runtime/core-js/symbol/iterator"),f=r(l),_=e("babel-runtime/core-js/symbol"),d=r(_),p="function"==typeof d.default&&"symbol"==typeof f.default?function(e){return typeof e}:function(e){return e&&"function"==typeof d.default&&e.constructor===d.default&&e!==d.default.prototype?"symbol":typeof e},h=e("babel-runtime/core-js/object/get-prototype-of"),b=n(h),m=e("babel-runtime/core-js/object/set-prototype-of"),y=n(m),v=e("babel-runtime/core-js/object/create"),g=n(v),j=e("babel-runtime/core-js/object/define-property"),E=n(j);Object.defineProperty(o,"__esModule",{value:!0});var S=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,E.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),T=e("./base.js"),O=n(T),w={bgfillcolor_pt1:[.5,.05],bgfillcolor_pt2:[.5,.95]},A={moved_touch:["h","h","h","h","h","h","d","d"],up_down_cancelled_touch:["h","h","h","h","h","h","d","d"],pinch:["h","h","h","d","d","h"],region:["h","h","h","h","h","h"],rotate:["h","h","h","d","d","h"],swipe:["h","h","h","h","h"],tap:["h","h","h","d","d","h"],rawsend:["h","h"],rotationrate:["h","h","d","d","d","d"],gravity:["h","h","d","d","d","d"],accel:["h","h","d","d","d","d"],orientation:["h","h","d","d","d","d"],rawaccel:["h","h","d","d","d","d"],touchy:["s","s","h","h"],setcell:["h","h","h"],directions:"h*",constraint:"h*"},N=function(e){function t(e,o,r){i(this,t);var n=a(this,(t.__proto__||(0,b.default)(t)).call(this,e,o,r));return n._onParamChange=function(e){n.emit("change",n)},n._onParamSet=function(e){n.emit("set",n)},n._sequence=0,n._currentRemoteSequence=0,n._value=c(o,null),n._types=u(o),n}return s(t,e),S(t,[{key:"_storeValue",value:function(e){var t=c(this.type,e);t&&1===t.length?this._value=t[0]:this._value=t}},{key:"init",value:function(e){this._storeValue(e)}},{key:"modify",value:function(e,t,o){this._currentRemoteSequence&&this._currentRemoteSequence>=o||(this._currentRemoteSequence=o,this._storeValue(e),A.hasOwnProperty(this.type)||(this._types=t),this.emit("change",this))}},{key:"remoteSequence",get:function(){return this._currentRemoteSequence}},{key:"types",get:function(){return"string"==typeof this._types&&"*"===this._types.charAt(1)?null===this._value?[]:new Array(this._value.length).fill(this._types.charAt(0)):this._types}},{key:"sequence",get:function(){return this._sequence}},{key:"value",get:function(){if("enumindex"===this.getParamValue("style")){var e=this.getParamValue("enumvals");return e?e[this._value]:null}return this._value},set:function(e){this._storeValue(e),this._sequence++,this.emit("set",this)}}]),t}(O.default);o.default=N,t.exports=o.default},{"./base.js":161,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17}],168:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":_(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":_(t)));e.prototype=(0,T.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(E.default?(0,E.default)(e,t):e.__proto__=t)}var c=e("babel-runtime/core-js/symbol/iterator"),u=r(c),l=e("babel-runtime/core-js/symbol"),f=r(l),_="function"==typeof f.default&&"symbol"==typeof u.default?function(e){return typeof e}:function(e){return e&&"function"==typeof f.default&&e.constructor===f.default&&e!==f.default.prototype?"symbol":typeof e},d=e("babel-runtime/core-js/array/from"),p=n(d),h=e("babel-runtime/core-js/map"),b=n(h),m=e("babel-runtime/core-js/set"),y=n(m),v=e("babel-runtime/core-js/object/get-prototype-of"),g=n(v),j=e("babel-runtime/core-js/object/set-prototype-of"),E=n(j),S=e("babel-runtime/core-js/object/create"),T=n(S),O=e("babel-runtime/core-js/object/define-property"),w=n(O);Object.defineProperty(o,"__esModule",{value:!0});var A=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,w.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),N=e("../lib/constants.js"),x=e("./objectNode.js"),I=n(x),M=function(e){function t(e,o,r,n){i(this,t);var s=a(this,(t.__proto__||(0,g.default)(t)).call(this,e,o,r,n));return s._onFrameChange=function(e,t){(e.viewMode===N.VIEW_MODES.PATCHING&&"patching_rect"===t.type||e.viewMode===N.VIEW_MODES.PRESENTATION&&"presentation_rect"===t.type)&&s._assignObjectsToFrame(e),e.isReady&&s.emit("frame_changed",e,t)},s._onFrameInitialized=function(e){s.emit("frame_added",e)},s._onFrameViewModeChange=function(e){s._assignObjectsToFrame(e)},s._onObjectInitialized=function(e){var t=e.getParamValue("varname");t&&s._storeScriptingNameLookup(e.id,t),s._assignObjectToFrames(e),s.emit("object_added",e)},s._onObjectChange=function(e,t){"presentation"!==t.type&&"patching_rect"!==t.type&&"presentation_rect"!==t.type||s._assignObjectToFrames(e),"varname"===t.type&&(s._removeScriptingNameLookup(e.id),s._storeScriptingNameLookup(e.id,t.value)),e.isReady&&s.emit("object_changed",e,t)},s._onObjectDestroy=function(e){s.removeObject(e.id)},s._onViewChange=function(e,t){"presentation"===t.type&&s._updateViewMode(),s.emit("param_changed",s,t)},s._onViewDestroy=function(e){e.removeListener("param_changed",s._onViewChange),e.removeListener("destroy",s._onViewDestroy),s._view=null},s._frames=new y.default,s._objects=new y.default,s._idsByScriptingName=new b.default,s._scriptingNamesById=new b.default,s._view=null,s.on("initialized",s._updateViewMode),s}return s(t,e),A(t,[{key:"_removeScriptingNameLookup",value:function(e){var t=this._scriptingNamesById.get(e);t&&(this._idsByScriptingName.delete(t),this._scriptingNamesById.delete(e))}},{key:"_storeScriptingNameLookup",value:function(e,t){this._idsByScriptingName.set(t,e),this._scriptingNamesById.set(e,t)}},{key:"_viewModeToRectParam",value:function(e){return e===N.VIEW_MODES.PATCHING?"patching_rect":"presentation_rect"}},{key:"_assignObjectToFrames",value:function(e){var t=this;this._frames.forEach(function(o){var r=t.getChild(o),n=e.getParamValue(t._viewModeToRectParam(r.viewMode)),i=r.containsObject(e.id);if(n||i)if(!i||n&&(r.viewMode!==N.VIEW_MODES.PRESENTATION||e.getParamValue("presentation"))){var a=r.containsRect(n);i&&!a?r.removeObject(e.id):!i&&a&&r.addObject(e)}else r.removeObject(e.id)},this)}},{key:"_assignObjectsToFrame",value:function(e){var t=this,o=this._viewModeToRectParam(e.viewMode);this._objects.forEach(function(r){var n=t.getChild(r),i=n.getParamValue(o),a=e.containsObject(n.id);if(i||a)if(!a||i&&(e.viewMode!==N.VIEW_MODES.PRESENTATION||n.getParamValue("presentation"))){var s=e.containsRect(i);a&&!s?e.removeObject(n.id):!a&&s&&e.addObject(n)}else e.removeObject(n.id)},this)}},{key:"_updateViewMode",value:function(){var e=this,t=this.viewMode;this._frames.forEach(function(o){e.getChild(o).patcherViewMode=t},this)}},{key:"addFrame",value:function(e){e.patcherViewMode=this.viewMode,this.addChild(e.id,e),this._frames.add(e.id),e.on("param_changed",this._onFrameChange),e.on("viewmode_change",this._onFrameViewModeChange),e.isReady?this.emit("frame_added",e):e.once("initialized",this._onFrameInitialized)}},{key:"addObject",value:function(e){this.addChild(e.id,e),"patcherview"===e.type?(this._view=e,e.on("param_changed",this._onViewChange),e.on("destroy",this._onViewDestroy)):(this._objects.add(e.id),e.on("param_changed",this._onObjectChange),e.on("destroy",this._onObjectDestroy),e.isReady?(this.emit("object_added",e),this._assignObjectToFrames(e)):e.once("initialized",this._onObjectInitialized))}},{key:"getChannelNames",value:function(){var e=this,t=new y.default;return this._objects.forEach(function(o){var r=e.getChild(o);"mira.channel"===r.type&&t.add(r.getParamValue("name"))},this),(0,p.default)(t)}},{key:"getFrame",value:function(e){return this.getChild(e)}},{key:"getFrames",value:function(){var e=this,t=[];return this._frames.forEach(function(o){t.push(e.getChild(o))},this),t}},{key:"getObject",value:function(e){return this.getChild(e)}},{key:"getObjectByScriptingName",value:function(e){return this._idsByScriptingName.has(e)?this.getChild(this._idsByScriptingName.get(e)):null}},{key:"getObjects",value:function(){var e=this,t=[];return this._objects.forEach(function(o){t.push(e.getChild(o))},this),t}},{key:"removeFrame",value:function(e){var t=this.removeChild(e);t&&(this._frames.delete(e),t.removeListener("param_changed",this._onFrameChange),t.removeListener("viewmode_change",this._onFrameViewModeChange),t.removeListener("initialized",this._onFrameInitialized),t.isReady&&this.emit("frame_removed",t))}},{key:"removeObject",value:function(e){var t=this.removeChild(e);t&&(this._objects.delete(e),this._removeScriptingNameLookup(e),t.removeListener("param_changed",this._onObjectChange),t.removeListener("destroy",this._onObjectDestroy),t.removeListener("initialized",this._onObjectInitialized),t.isReady&&this.emit("object_removed",t))}},{key:"name",get:function(){return this._view?this._view.getParamValue("name"):""}},{key:"locked",get:function(){return!!(this._view?this._view.getParamValue("locked"):0)}},{key:"bgColor",get:function(){return(this.locked?this.getParamValue("locked_bgcolor"):this.getParamValue("editing_bgcolor"))||[1,1,1,1]}},{key:"viewMode",get:function(){return this._view?this._view.getParamValue("presentation")?N.VIEW_MODES.PRESENTATION:N.VIEW_MODES.PATCHING:this.getParamValue("openinpresentation")?N.VIEW_MODES.PRESENTATION:N.VIEW_MODES.PATCHING}}]),t}(I.default);o.default=M,t.exports=o.default},{"../lib/constants.js":158,"./objectNode.js":166,"babel-runtime/core-js/array/from":1,"babel-runtime/core-js/map":5,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/set":15,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17}],169:[function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":d(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":d(t)));e.prototype=(0,m.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(h.default?(0,h.default)(e,t):e.__proto__=t)}function c(e){return e&&e!==A.EMPTY_RESOURCE}var u=e("babel-runtime/core-js/symbol/iterator"),l=r(u),f=e("babel-runtime/core-js/symbol"),_=r(f),d="function"==typeof _.default&&"symbol"==typeof l.default?function(e){return typeof e}:function(e){return e&&"function"==typeof _.default&&e.constructor===_.default&&e!==_.default.prototype?"symbol":typeof e},p=e("babel-runtime/core-js/object/set-prototype-of"),h=n(p),b=e("babel-runtime/core-js/object/create"),m=n(b),y=e("babel-runtime/core-js/object/get-prototype-of"),v=n(y),g=e("babel-runtime/core-js/object/get-own-property-descriptor"),j=n(g),E=e("babel-runtime/core-js/object/define-property"),S=n(E);Object.defineProperty(o,"__esModule",{value:!0});var T=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,S.default)(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),O=function e(t,o,r){null===t&&(t=Function.prototype);var n=(0,j.default)(t,o);if(void 0===n){var i=(0,v.default)(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(r)},w=e("../lib/objectList.js"),A=e("../lib/constants.js"),N=e("../lib/resource.js");o.default=function(e){return function(e){function t(e,o,r,n){i(this,t);var s=a(this,(t.__proto__||(0,v.default)(t)).apply(this,arguments));s._onParamChangeForResources=function(e){if(s._type===w.OBJECTS.FPIC)"pic"===e.type&&(c(e.value)?s._resources[0].filename=e.value:s._resources[0].isEmpty||s._resources[0].clear());else if(s._type===w.OBJECTS.LIVE_TEXT){if("pictures"===e.type)for(var t=0;t<e.value.length;t++)c(e.value[t])?s._resources[t].filename=e.value[t]:s._resources[t].isEmpty||s._resources[t].clear()}else if(s._type===w.OBJECTS.LIVE_TAB&&"pictures"===e.type){if(s._resources.forEach(function(e){e.destroy()}),s._resources=[],e.value){var o=e.value;e.value instanceof Array||(o=[e.value]),o.forEach(function(e){var t=s._resourceController.createResource(s.id);s._resources.push(t),t.filename=e})}s.emit("resources_changed",s)}},s._resources=[],s._resourceController=new N.ResourceController;var u=0;o===w.OBJECTS.FPIC?u=1:o===w.OBJECTS.LIVE_TEXT&&(u=2);for(var l=0;l<u;l++){var f=s._resourceController.createResource(s.id);s._resources.push(f)}return s}return s(t,e),T(t,[{key:"addParam",value:function(e){O(t.prototype.__proto__||(0,v.default)(t.prototype),"addParam",this).call(this,e),e.on("change",this._onParamChangeForResources)}},{key:"getResourceCount",value:function(){return this._resources?this._resources.length:0}},{key:"getResourceAtIndex",value:function(e){if(e<0||e>=this._resources.length)throw new Error("Invalid Resource Index. Object has "+this.getResourceCount()+" resources.");return this._resources[e]}},{key:"destroy",value:function(){O(t.prototype.__proto__||(0,v.default)(t.prototype),"destroy",this).call(this),this._resourceController.removeAllListeners(),this._resources&&this._resources.length&&this._resources.forEach(function(e){e.destroy()})}},{key:"resourceController",get:function(){return this._resourceController}}]),t}(e)},t.exports=o.default},{"../lib/constants.js":158,"../lib/objectList.js":159,"../lib/resource.js":160,"babel-runtime/core-js/object/create":7,"babel-runtime/core-js/object/define-property":8,"babel-runtime/core-js/object/get-own-property-descriptor":10,"babel-runtime/core-js/object/get-prototype-of":11,"babel-runtime/core-js/object/set-prototype-of":13,"babel-runtime/core-js/symbol":16,"babel-runtime/core-js/symbol/iterator":17}]},{},[157])(157)});